{"id":"rui-014","title":"Make a dialog for viewing task details and editing them","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T18:40:37.907725+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T19:35:30.32148+01:00","closed_at":"2026-01-19T19:35:30.32148+01:00","close_reason":"Closed","comments":[{"id":67,"issue_id":"rui-014","author":"Herb Caudill","text":"## Summary\n\nImplemented a task details dialog component that allows users to view and edit task details.\n\n### Changes Made\n\n**New Components:**\n- `TaskDetailsDialog` - Modal dialog for viewing/editing task details with fields for title, description, status, and priority\n- `Dialog`, `Select`, `Label`, `Input`, `Textarea` - Reusable UI components using Radix UI primitives\n\n**New API Endpoints:**\n- `GET /api/tasks/:id` - Fetch a single task by ID\n- `PATCH /api/tasks/:id` - Update a task's fields\n\n**New Hook:**\n- `useTaskDialog` - Manages dialog state, fetches task data by ID, and handles API updates\n\n**Integration:**\n- Clicking any task in the sidebar opens the edit dialog\n- Dialog supports both edit mode and read-only mode\n- Changes are only saved when Save is clicked\n\n### Testing\n- 22 unit tests for TaskDetailsDialog covering rendering, editing, saving, and closing behaviors\n- Storybook stories for various task states (default, read-only, blocked, high priority, etc.)","created_at":"2026-01-19T18:35:26Z"}]}
{"id":"rui-06v","title":"add a 2px border around the whole page in the accent color","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T20:01:15.208516+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T20:35:57.808437+01:00","closed_at":"2026-01-19T20:35:57.808437+01:00","close_reason":"Closed","comments":[{"id":79,"issue_id":"rui-06v","author":"Herb Caudill","text":"Added a 2px solid border around the entire page using the accent color (from peacock settings). Falls back to a neutral dark gray (#374151) when no accent color is set. Changes:\n\n- Updated `MainLayout.tsx` to read the accent color from the store and apply it as an inline border style\n- Added tests for both the default border color and custom accent color border\n- All tests pass and build succeeds","created_at":"2026-01-19T19:35:53Z"}]}
{"id":"rui-0dh","title":"Make the whole header the accent color with text reversed out","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T18:53:15.885995+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T19:39:19.109991+01:00","closed_at":"2026-01-19T19:39:19.109991+01:00","close_reason":"Closed","comments":[{"id":68,"issue_id":"rui-0dh","author":"Herb Caudill","text":"## Changes Made\n\nImplemented full-width accent color header with reversed-out text:\n\n### Header.tsx\n- Changed from thin accent bar to full header background using accent color\n- Updated default accent color from black (`#000000`) to neutral gray (`#374151`) for better appearance when no peacock color is set\n- Uses `getContrastingColor` utility to automatically determine white or black text based on background luminance\n- Passes `textColor` prop down to child components\n\n### WorkspacePicker.tsx\n- Added `variant` prop with 'default' | 'header' options\n- Added `textColor` prop for header variant styling\n- Header variant uses semi-transparent hover states (`hover:bg-white/20`)\n- Folder icon color adapts to match header text color\n\n### ControlBar.tsx  \n- Added `variant` prop with 'default' | 'header' options\n- Added `textColor` prop for header variant styling\n- Buttons use ghost variant with custom border/text colors matching header\n- Hover states use semi-transparent white backgrounds\n\n### Header.test.tsx\n- Updated tests to check header background color instead of accent bar\n- Test names updated to reflect new behavior ('accent color background' instead of 'accent color bar')\n- Default color tests updated to expect `#374151`","created_at":"2026-01-19T18:39:15Z"}]}
{"id":"rui-0j6","title":"Markdown code block integration","description":"Integrate CodeBlock component with react-markdown for syntax highlighting in AssistantText","status":"open","priority":3,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T19:19:13.249305+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T19:19:13.249305+01:00","dependencies":[{"issue_id":"rui-0j6","depends_on_id":"rui-bnb","type":"parent-child","created_at":"2026-01-19T19:19:36.316529+01:00","created_by":"Herb Caudill"},{"issue_id":"rui-0j6","depends_on_id":"rui-28p","type":"blocks","created_at":"2026-01-19T19:19:52.251887+01:00","created_by":"Herb Caudill"}]}
{"id":"rui-0kp","title":"Add a command palette (hotkey cmd+;)","status":"open","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T19:00:38.858938+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T19:00:38.858938+01:00"}
{"id":"rui-0p7","title":"in the ralph events screen, each iteration should be displayed separately. Always show the current iteration by default, with buttons and hotkeys allowing me to navigate to the previous or next iteration","status":"open","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T18:45:46.359408+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T18:45:46.359408+01:00"}
{"id":"rui-17z","title":"the add task input should stay focused after a task is submitted","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T18:24:41.328936+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T18:35:52.124848+01:00","closed_at":"2026-01-19T18:35:52.124848+01:00","close_reason":"Closed","comments":[{"id":48,"issue_id":"rui-17z","author":"Herb Caudill","text":"Fixed by keeping the input focused after successful task submission.\n\n**Changes:**\n- Added `inputRef.current?.focus()` call in QuickTaskInput after clearing the input value\n- Added test to verify input stays focused after successful submission\n\nThis allows users to quickly add multiple tasks in succession without needing to click back into the input field.","created_at":"2026-01-19T17:35:48Z"}]}
{"id":"rui-1ey","title":"Agent chat","description":"Send messages to running claude agent","status":"closed","priority":2,"issue_type":"epic","owner":"herb@devresults.com","created_at":"2026-01-18T20:14:21.571382+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T21:46:30.438327+01:00","closed_at":"2026-01-18T21:46:30.438327+01:00","close_reason":"Closed"}
{"id":"rui-1ey.1","title":"Create ChatInput component","description":"Text input for sending messages to running agent. Submit on Enter, clear after send.","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T20:15:12.491415+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T21:11:51.016229+01:00","closed_at":"2026-01-18T21:11:51.016229+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rui-1ey.1","depends_on_id":"rui-1ey","type":"parent-child","created_at":"2026-01-18T20:15:12.491971+01:00","created_by":"Herb Caudill"}],"comments":[{"id":15,"issue_id":"rui-1ey.1","author":"Herb Caudill","text":"## Implementation Summary\n\nCreated the ChatInput component for sending messages to running agents.\n\n### Features\n- Text input with placeholder text (customizable)\n- Submit on Enter key (Shift+Enter allowed for future multiline support)\n- Auto-clear after successful send\n- Disabled state support\n- Send button with icon\n\n### Props\n- `onSubmit`: Callback with trimmed message\n- `placeholder`: Custom placeholder text\n- `disabled`: Disable input/button\n- `className`: Additional styling\n\n### Test Coverage (20 tests)\n- Rendering (placeholder, button, className)\n- Input behavior (value updates, clear after submit, ARIA labels)\n- Submit behavior (form submit, Enter key, Shift+Enter skip, empty/whitespace validation)\n- Disabled state handling\n- Styling verification\n\n### Files Added\n- `src/components/chat/ChatInput.tsx`\n- `src/components/chat/ChatInput.test.tsx`","created_at":"2026-01-18T20:11:47Z"}]}
{"id":"rui-1ey.2","title":"Wire up message sending","description":"Send chat messages via WebSocket to server, which pipes to ralph stdin. Show user messages in event stream. DEPENDS ON: r-loy (stdin commands in ralph)","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T20:15:13.585146+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T21:33:41.39491+01:00","closed_at":"2026-01-18T21:33:41.39491+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rui-1ey.2","depends_on_id":"rui-1ey","type":"parent-child","created_at":"2026-01-18T20:15:13.585716+01:00","created_by":"Herb Caudill"},{"issue_id":"rui-1ey.2","depends_on_id":"rui-1ey.1","type":"blocks","created_at":"2026-01-18T20:15:48.867515+01:00","created_by":"Herb Caudill"}],"comments":[{"id":20,"issue_id":"rui-1ey.2","author":"Herb Caudill","text":"## Implementation Summary\n\n### Changes Made\n\n1. **Server-side WebSocket handler** (server/index.ts):\n   - Added `chat_message` message type handling\n   - Forwards user messages to ralph's stdin via RalphManager.send()\n   - Broadcasts `user_message` events to all connected clients so messages appear in the event stream\n   - Returns error if ralph is not running\n\n2. **New useRalphConnection hook** (src/hooks/useRalphConnection.ts):\n   - Wraps useWebSocket with ralph-specific message handling\n   - Provides `sendMessage()` function to send chat messages\n   - Handles all ralph server message types: ralph:event, ralph:status, ralph:output, ralph:error, ralph:exit, user_message\n   - Updates store state (events, ralphStatus, connectionStatus)\n   - Comprehensive test coverage (16 tests)\n\n3. **Updated App component** (src/App.tsx):\n   - AgentView now shows EventStream and ChatInput\n   - ChatInput is wired to sendMessage from useRalphConnection\n   - Input disabled when not connected or ralph not running\n   - Dynamic placeholder based on connection/ralph state\n\n4. **Enhanced EventStream** (src/components/events/EventStream.tsx):\n   - Added user_message event type with cyan color\n   - User messages displayed with \"You\" label and special styling (cyan background tint)\n   - Improved formatEventDetails for readable output/error/user_message display\n\n### Testing\n- All 367 unit tests pass\n- All 2 e2e tests pass\n- TypeScript compiles without errors","created_at":"2026-01-18T20:33:38Z"}]}
{"id":"rui-1k3","title":"With the exception of the Ralph logo, use tabler icons instead of one-off svgs.","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T19:41:19.26629+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T20:31:59.328793+01:00","closed_at":"2026-01-19T20:31:59.328793+01:00","close_reason":"Closed","comments":[{"id":77,"issue_id":"rui-1k3","author":"Herb Caudill","text":"Replaced all one-off SVGs and lucide-react icons with tabler icons:\n\n**Files updated:**\n- ControlBar.tsx - Replaced play/pause/stop icons with IconPlayerPlayFilled, IconPlayerPauseFilled, IconPlayerStopFilled, IconPlayerStop\n- StatusBar.tsx - Replaced git branch and clock icons with IconGitBranch, IconClock\n- ChatInput.tsx - Replaced arrow up icon with IconArrowUp\n- WorkspacePicker.tsx - Replaced folder, chevron, check, refresh icons with IconFolderFilled, IconChevronDown, IconCheck, IconRefresh\n- EventStream.tsx - Replaced chevron and loader icons with IconChevronDown, IconLoader\n- Header.tsx - Replaced lucide Sun/Moon/Monitor with IconSun, IconMoon, IconDeviceDesktop\n- TaskCard.tsx - Replaced lucide Circle/CircleDot/CheckCircle2/Ban/Clock with tabler equivalents\n- TaskDetailsDialog.tsx - Same status icon replacements as TaskCard\n- QuickTaskInput.tsx - Replaced Loader2 with IconLoader\n- TaskList.tsx - Replaced ChevronDown/Layers with IconChevronDown/IconStack2\n- dialog.tsx - Replaced X with IconX\n- select.tsx - Replaced Check/ChevronDown/ChevronUp with tabler equivalents\n- button.stories.tsx - Updated storybook examples to use tabler icons\n\n**Note:** The Ralph logo SVG in Header.tsx was intentionally kept as a custom brand element.\n\nAll tests pass.","created_at":"2026-01-19T19:31:54Z"}]}
{"id":"rui-26f","title":"when hovering over a task, show a popup with more details. It should be positioned such that the symbol and the title text are in the exact same position as when not hovered. Above the title text put metadata like task number and priority. Below it put the description etc. This would also have a button to open the task details in a dialog.","status":"open","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T18:38:59.650557+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T18:38:59.650557+01:00"}
{"id":"rui-28p","title":"CodeBlock component","description":"Syntax-highlighted code block component using Shiki with copy button in src/components/theme/CodeBlock.tsx","status":"open","priority":3,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T19:19:12.259181+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T19:19:12.259181+01:00","dependencies":[{"issue_id":"rui-28p","depends_on_id":"rui-bnb","type":"parent-child","created_at":"2026-01-19T19:19:36.315435+01:00","created_by":"Herb Caudill"},{"issue_id":"rui-28p","depends_on_id":"rui-4tm","type":"blocks","created_at":"2026-01-19T19:19:50.514322+01:00","created_by":"Herb Caudill"},{"issue_id":"rui-28p","depends_on_id":"rui-i3g","type":"blocks","created_at":"2026-01-19T19:19:50.635656+01:00","created_by":"Herb Caudill"}]}
{"id":"rui-29h","title":"Agent monitoring","description":"Real-time display of claude agent events and tool usage","status":"closed","priority":2,"issue_type":"epic","owner":"herb@devresults.com","created_at":"2026-01-18T20:14:20.587325+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T21:46:30.436707+01:00","closed_at":"2026-01-18T21:46:30.436707+01:00","close_reason":"Closed"}
{"id":"rui-29h.1","title":"Create EventStream component","description":"Scrollable container displaying real-time events from ralph. Auto-scroll to bottom, pause scroll on user interaction.","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T20:15:03.368117+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T21:00:12.210508+01:00","closed_at":"2026-01-18T21:00:12.210508+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rui-29h.1","depends_on_id":"rui-29h","type":"parent-child","created_at":"2026-01-18T20:15:03.368718+01:00","created_by":"Herb Caudill"},{"issue_id":"rui-29h.1","depends_on_id":"rui-9dq.2","type":"blocks","created_at":"2026-01-18T20:15:47.002188+01:00","created_by":"Herb Caudill"},{"issue_id":"rui-29h.1","depends_on_id":"rui-9dq.3","type":"blocks","created_at":"2026-01-18T20:15:47.758887+01:00","created_by":"Herb Caudill"}],"comments":[{"id":11,"issue_id":"rui-29h.1","author":"Herb Caudill","text":"## Changes Made\n\nCreated the **EventStream** component at `src/components/events/EventStream.tsx`:\n\n### Features\n- **Real-time event display**: Shows events from the Zustand store with timestamps and color-coded event types\n- **Auto-scroll**: Automatically scrolls to bottom when new events arrive\n- **Smart scroll pause**: Auto-scroll pauses when user scrolls up, resumes when scrolling back to bottom\n- **Scroll to latest button**: Shows a \"Latest\" button when scrolled up, allowing quick return to bottom\n- **Event limiting**: `maxEvents` prop (default 1000) limits displayed events, removing older ones\n- **Accessible**: Uses `role=\"log\"` and `aria-live=\"polite\"` for screen readers\n\n### Event Type Styling\n- **Error events**: Red text\n- **Warning events**: Yellow text  \n- **Success/complete events**: Green text\n- **Tool events**: Blue text\n- **Text/message events**: Purple text\n\n### Tests\nAdded comprehensive tests covering:\n- Empty state display\n- Event rendering and formatting\n- Timestamp formatting (HH:MM:SS.mmm)\n- Event type color styling\n- Auto-scroll behavior\n- maxEvents limiting\n- Custom className support\n\n### Files\n- `src/components/events/EventStream.tsx` - Main component\n- `src/components/events/EventStream.test.tsx` - Tests (16 tests)\n- `src/components/events/index.ts` - Barrel export","created_at":"2026-01-18T20:00:08Z"}]}
{"id":"rui-29h.2","title":"Create ToolUseCard component","description":"Card component for displaying tool use events. Icons and formatting for: Read, Edit, Write, Bash, Grep, Glob, WebSearch, WebFetch, TodoWrite, Task.","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T20:15:04.292738+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T21:06:22.222399+01:00","closed_at":"2026-01-18T21:06:22.222399+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rui-29h.2","depends_on_id":"rui-29h","type":"parent-child","created_at":"2026-01-18T20:15:04.293244+01:00","created_by":"Herb Caudill"}],"comments":[{"id":13,"issue_id":"rui-29h.2","author":"Herb Caudill","text":"## Summary\n\nCreated ToolUseCard component in `src/components/events/ToolUseCard.tsx` for displaying tool use events.\n\n### Features\n- **Tool-specific icons and colors**: Using lucide-react icons with color-coded styling for Read (blue), Edit (amber), Write (green), Bash (purple), Grep (cyan), Glob (teal), WebSearch (indigo), WebFetch (pink), TodoWrite (orange), Task (rose)\n- **Status indicators**: Animated pulse for running, green for success, red for error, gray for pending\n- **Smart summaries**: Shows file paths for Read/Edit/Write, command for Bash, pattern for Grep/Glob, query for WebSearch, URL for WebFetch, todo count for TodoWrite, description for Task\n- **Duration formatting**: Human-readable (ms, seconds, minutes)\n- **Expandable details**: Shows input JSON, output text, and error messages\n\n### Tests\n- 36 tests covering rendering, tool-specific icons/colors, status indicators, expand/collapse behavior, and accessibility\n\n### Exports\n- `ToolUseCard` component\n- `ToolUseCardProps`, `ToolUseEvent`, `ToolName` types","created_at":"2026-01-18T20:06:17Z"}]}
{"id":"rui-29h.3","title":"Create TextBlock component","description":"Display claude's text output with markdown rendering.","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T20:15:05.345821+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T21:09:36.689344+01:00","closed_at":"2026-01-18T21:09:36.689344+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rui-29h.3","depends_on_id":"rui-29h","type":"parent-child","created_at":"2026-01-18T20:15:05.346321+01:00","created_by":"Herb Caudill"}],"comments":[{"id":14,"issue_id":"rui-29h.3","author":"Herb Caudill","text":"## Changes Made\n\nCreated the **TextBlock** component for displaying Claude's text output with full markdown rendering.\n\n### Features\n- Full markdown support via react-markdown and remark-gfm\n- Supports: bold, italic, inline code, code blocks, links, lists (ordered/unordered), headings, blockquotes\n- GitHub Flavored Markdown features: strikethrough, tables, task lists\n- Role-based styling (assistant=purple, user=green, system=amber)\n- Consistent visual style with ToolUseCard component\n- Timestamp display in HH:MM:SS.mmm format\n\n### Files\n- `src/components/events/TextBlock.tsx` - Main component\n- `src/components/events/TextBlock.test.tsx` - 25 comprehensive tests\n- `src/components/events/index.ts` - Added export\n\n### Dependencies Added\n- react-markdown@10.1.0\n- remark-gfm@4.0.1","created_at":"2026-01-18T20:09:32Z"}]}
{"id":"rui-29h.4","title":"Create ControlBar component","description":"Buttons for Start, Pause, Stop, Stop-after-current. Disable states based on ralph status. DEPENDS ON: r-zi3 (stop-after-current in ralph)","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T20:15:06.920467+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T21:45:25.023648+01:00","closed_at":"2026-01-18T21:45:25.023648+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rui-29h.4","depends_on_id":"rui-29h","type":"parent-child","created_at":"2026-01-18T20:15:06.920981+01:00","created_by":"Herb Caudill"}],"comments":[{"id":22,"issue_id":"rui-29h.4","author":"Herb Caudill","text":"## Summary\n\nCreated ControlBar component for ralph process control with Start, Pause, Stop, and Stop-after-current buttons.\n\n### Component (`src/components/controls/ControlBar.tsx`)\n- **Start button**: Calls `/api/start` to launch the ralph process\n- **Stop button**: Calls `/api/stop` to gracefully stop ralph\n- **Pause button**: Placeholder - disabled until ralph supports pause\n- **Stop-after-current button**: Placeholder - disabled until ralph supports stop-after-current\n\n### Button State Logic\nButton states are determined by ralph status and connection status:\n- **Stopped**: Only Start enabled\n- **Starting**: All disabled (transitional state)\n- **Running**: Stop enabled; Pause and Stop-after-current pending ralph implementation\n- **Stopping**: All disabled (transitional state)\n- **Disconnected**: All buttons disabled\n\n### Features\n- Loading state during API calls\n- Error display for failed operations\n- Full accessibility with aria-labels and titles\n- Custom SVG icons for each action\n\n### Tests (`18 tests passing`)\n- Button rendering tests\n- Button state tests for all ralph statuses (stopped, starting, running, stopping)\n- Disconnected state handling\n- Start/Stop API integration tests\n- Error handling tests (API errors, network failures)","created_at":"2026-01-18T20:45:20Z"}]}
{"id":"rui-2f0","title":"Change the icon for the add task button to an up arrow. use arrow-big-up-filled. (send message should use the same icon)","status":"open","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T20:21:24.4695+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T20:21:24.4695+01:00"}
{"id":"rui-2nn","title":"in the status bar where we show the repo name, add the branch name as well","status":"open","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T20:30:43.118934+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T20:30:43.118934+01:00"}
{"id":"rui-3ly","title":"Start Ralph in watch mode on workspace switch","status":"closed","priority":2,"issue_type":"feature","owner":"herb@devresults.com","created_at":"2026-01-18T23:34:16.983656+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T23:50:43.155691+01:00","closed_at":"2026-01-18T23:50:43.155691+01:00","close_reason":"Closed","comments":[{"id":32,"issue_id":"rui-3ly","author":"Herb Caudill","text":"## Changes Made\n\n- Added `watch` option to `RalphManagerOptions` interface in `RalphManager.ts`\n- Updated `RalphManager.start()` to include `--watch` flag when watch option is enabled\n- Modified `switchWorkspace()` in `server/index.ts` to:\n  - Stop any currently running Ralph instance\n  - Create a new RalphManager with watch mode enabled for the new workspace\n  - Auto-start Ralph in watch mode\n- Added tests for the new watch mode functionality\n\nThis allows Ralph to continuously monitor for new issues after processing existing ones when switching workspaces.","created_at":"2026-01-18T22:50:39Z"}]}
{"id":"rui-3u4","title":"are we showing glob results? They always display like this: \n\n\nGlob src/hooks/useTheme*\n└\n\nwith nothing attached\n\nGlob src/hooks/useTheme*\n└\n\nwith nothing","status":"open","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T20:13:36.429838+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T20:13:36.429838+01:00"}
{"id":"rui-443","title":"add a hotkey for changing theme","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T19:13:05.636677+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T20:14:32.517069+01:00","closed_at":"2026-01-19T20:14:32.517069+01:00","close_reason":"Closed","comments":[{"id":74,"issue_id":"rui-443","author":"Herb Caudill","text":"Added Cmd+Shift+T hotkey to cycle through themes (system → light → dark).\n\n**Changes:**\n- Added `cycleTheme` hotkey config to `hotkeys.json` with Cmd+Shift+T binding\n- Added `cycleTheme` to `HotkeyAction` type in `config/index.ts`\n- Wired up handler in `App.tsx` that calls `cycleTheme()` from the `useTheme` hook\n- Added `cycleTheme` to `allowedInInput` list so it works even when typing\n- Added tests for the new hotkey including input element handling","created_at":"2026-01-19T19:14:28Z"}]}
{"id":"rui-44v","title":"Change the \"Add a task...\" placeholder to \"Tell Ralph what you want to do\"","status":"open","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T20:17:22.359819+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T20:17:22.359819+01:00"}
{"id":"rui-48s","title":"when task ids appear in the event log, make them links to edit that task","status":"open","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T18:59:19.333091+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T18:59:19.333091+01:00"}
{"id":"rui-4n6","title":"the status bar and the 'Start Ralph to send messages' placeholder are flickering around once a second","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T01:30:48.305646+01:00","updated_at":"2026-01-19T01:43:21.027778+01:00","closed_at":"2026-01-19T01:43:21.027778+01:00","close_reason":"Closed","comments":[{"id":35,"issue_id":"rui-4n6","author":"Herb Caudill","text":"## Changes Made\n\nFixed two issues in `useRalphConnection.ts` that could contribute to UI flickering:\n\n### 1. Reduced redundant status updates\n- Previously, the `useEffect` was syncing ALL connection status changes to the store\n- But the `handleConnect` and `handleDisconnect` callbacks were ALSO setting status\n- This caused duplicate store updates for 'connected' and 'disconnected' states\n- Changed the `useEffect` to only sync the 'connecting' status, since callbacks handle the other states\n\n### 2. Added missing 'paused' status\n- The validation array for ralph status was missing 'paused'\n- Added it to match the `RalphStatus` type definition in the store\n\n### Investigation Notes\nThe 'once a second' flickering is most likely caused by the websocket reconnect loop when the server isn't running or is unstable (reconnect delay is 1000ms). This is expected behavior - when the backend server is not running, the websocket will cycle between 'connecting' and 'disconnected' states every second. The changes above reduce unnecessary re-renders but won't prevent the status indicator from updating when actual connection state changes occur.","created_at":"2026-01-19T00:43:17Z"}]}
{"id":"rui-4p3","title":"Add stop-after-current support","description":"Enable stop-after-current button and implement handleStopAfterCurrent when ralph CLI supports it. Currently the button is always disabled. Locations: ControlBar.tsx getButtonStates(), handleStopAfterCurrent(), and App.tsx handleAgentStopAfterCurrent().","status":"closed","priority":2,"issue_type":"feature","owner":"herb@devresults.com","created_at":"2026-01-18T23:05:25.375056+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T01:48:06.338161+01:00","closed_at":"2026-01-19T01:48:06.338161+01:00","close_reason":"Closed","comments":[{"id":36,"issue_id":"rui-4p3","author":"Herb Caudill","text":"## Changes Made\n\nImplemented stop-after-current support for the Ralph agent:\n\n### Server (RalphManager)\n- Added `stopAfterCurrent()` method that sends a `{ type: 'stop_after_current' }` message to Ralph via stdin\n- Added `cancelStopAfterCurrent()` method to cancel a pending stop-after-current request\n- Added new `stopping_after_current` status to track this state\n\n### API Endpoints\n- Added `POST /api/stop-after-current` endpoint\n- Added `POST /api/cancel-stop-after-current` endpoint\n\n### UI (ControlBar)\n- Enabled stop-after-current button when Ralph is running or paused\n- Button toggles to 'Cancel stop after current' when in stopping_after_current state\n- Button uses 'default' variant when active to show it's toggled\n\n### StatusBar\n- Added 'Stopping after task' label with yellow indicator for stopping_after_current status\n\n### Store\n- Extended `RalphStatus` type to include `stopping_after_current`\n\n### Tests\n- Added 9 new tests for RalphManager (stopAfterCurrent, cancelStopAfterCurrent)\n- Added 8 new tests for ControlBar (button states and actions)\n\nAll 466 tests pass.","created_at":"2026-01-19T00:48:02Z"}]}
{"id":"rui-4rt","title":"Task management","description":"View, create, and edit beads tasks from the UI","status":"closed","priority":2,"issue_type":"epic","owner":"herb@devresults.com","created_at":"2026-01-18T20:14:22.605516+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T21:46:30.440348+01:00","closed_at":"2026-01-18T21:46:30.440348+01:00","close_reason":"Closed"}
{"id":"rui-4rt.1","title":"Create BdProxy class","description":"Server-side class to spawn bd commands and parse JSON output. Methods for: list, create, update, show.","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T20:15:24.764011+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T21:03:19.603584+01:00","closed_at":"2026-01-18T21:03:19.603584+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rui-4rt.1","depends_on_id":"rui-4rt","type":"parent-child","created_at":"2026-01-18T20:15:24.764595+01:00","created_by":"Herb Caudill"}],"comments":[{"id":12,"issue_id":"rui-4rt.1","author":"Herb Caudill","text":"## Summary\n\nCreated `BdProxy` class in `server/BdProxy.ts` - a server-side proxy to spawn `bd` commands and parse JSON output.\n\n### Features\n- **list()**: List issues with filters (limit, status, priority, type, assignee, parent, ready, all)\n- **show()**: Show details for one or more issues by ID\n- **create()**: Create new issues with title, description, priority, type, assignee, parent, labels\n- **update()**: Update issues with any field including add/remove labels\n- **close()**: Close one or more issues\n\n### Implementation\n- Spawns `bd` process with `--json` flag for structured output\n- Configurable command, cwd, env, and timeout (default 30s)\n- Injectable spawn function for testing\n- Promise-based API with proper error handling and timeout support\n\n### Tests\n- 34 tests covering all methods and options\n- Mock process testing pattern matching RalphManager style\n- Tests for custom options (command, cwd, env, timeout)","created_at":"2026-01-18T20:03:15Z"}]}
{"id":"rui-4rt.2","title":"Create TaskSidebar component","description":"Sidebar container with quick task input at top and task list below.","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T20:15:25.57788+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T21:14:21.785536+01:00","closed_at":"2026-01-18T21:14:21.785536+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rui-4rt.2","depends_on_id":"rui-4rt","type":"parent-child","created_at":"2026-01-18T20:15:25.57847+01:00","created_by":"Herb Caudill"},{"issue_id":"rui-4rt.2","depends_on_id":"rui-4rt.1","type":"blocks","created_at":"2026-01-18T20:15:49.847213+01:00","created_by":"Herb Caudill"}],"comments":[{"id":16,"issue_id":"rui-4rt.2","author":"Herb Caudill","text":"## Completed\n\nCreated `TaskSidebar` component with:\n- Header with task icon and \"Tasks\" title\n- Slot for `quickInput` component (rendered below header)\n- Slot for `taskList` component (scrollable area)\n- Empty state message when no tasks\n- Proper accessibility (`complementary` role, aria-label)\n- Full test coverage (15 tests)\n\nFiles added:\n- `src/components/tasks/TaskSidebar.tsx`\n- `src/components/tasks/TaskSidebar.test.tsx`\n- `src/components/tasks/index.ts`\n\nThe component is designed to accept `QuickTaskInput` and `TaskList` components as props once those are implemented.","created_at":"2026-01-18T20:14:18Z"}]}
{"id":"rui-4rt.3","title":"Create QuickTaskInput component","description":"Text input for quickly adding tasks. Submit on Enter, calls bd create.","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T20:15:26.45014+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T21:28:46.064553+01:00","closed_at":"2026-01-18T21:28:46.064553+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rui-4rt.3","depends_on_id":"rui-4rt","type":"parent-child","created_at":"2026-01-18T20:15:26.450688+01:00","created_by":"Herb Caudill"}],"comments":[{"id":19,"issue_id":"rui-4rt.3","author":"Herb Caudill","text":"## Summary\n\nCreated QuickTaskInput component for quick task creation:\n\n### Component (`src/components/tasks/QuickTaskInput.tsx`)\n- Text input with submit button (Plus icon)\n- Submits on Enter key press\n- Trims whitespace from title before submission\n- Shows loading spinner during submission\n- Disables input/button while submitting to prevent double submission\n- Clears input after successful submission\n- Preserves input on error for retry\n- Full accessibility support (aria-labels)\n\n### Server API (`server/index.ts`)\n- Added `POST /api/tasks` endpoint\n- Creates tasks via BdProxy.create()\n- Validates title is required\n- Supports optional parameters: description, priority, type, assignee, parent, labels\n- Returns created issue data on success\n\n### Tests (`23 tests passing`)\n- Rendering tests (input, button, disabled state, custom placeholder/className)\n- Input behavior tests (value updates, button enable/disable)\n- Form submission tests (Enter key, button click, API call format, whitespace trimming)\n- Loading state tests (spinner display, double-submit prevention)\n- Error handling tests (API errors, network errors, input preservation)\n- Accessibility tests (labels, button states)","created_at":"2026-01-18T20:28:42Z"}]}
{"id":"rui-4rt.4","title":"Create TaskList component","description":"List tasks grouped by status: Ready, In Progress, Blocked. Collapsible groups with counts.","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T20:15:27.291533+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T21:24:37.188298+01:00","closed_at":"2026-01-18T21:24:37.188298+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rui-4rt.4","depends_on_id":"rui-4rt","type":"parent-child","created_at":"2026-01-18T20:15:27.292096+01:00","created_by":"Herb Caudill"},{"issue_id":"rui-4rt.4","depends_on_id":"rui-4rt.1","type":"blocks","created_at":"2026-01-18T20:15:50.689878+01:00","created_by":"Herb Caudill"}],"comments":[{"id":18,"issue_id":"rui-4rt.4","author":"Herb Caudill","text":"## Summary\n\nCreated the TaskList component that displays tasks grouped by status.\n\n### Changes\n- **TaskList.tsx**: New component with:\n  - Groups tasks into 4 categories: Ready (open), In Progress, Blocked, Other (deferred/closed)\n  - Collapsible group headers with task counts\n  - Priority-based sorting within groups (lower number = higher priority)\n  - Callbacks for status changes and task clicks\n  - \"Other\" group collapsed by default\n  - Empty state handling with configurable `showEmptyGroups` prop\n  - Full keyboard accessibility (Enter/Space to toggle groups)\n\n- **TaskList.test.tsx**: 31 unit tests covering:\n  - Rendering and grouping logic\n  - Empty state handling\n  - Collapse/expand functionality\n  - Priority sorting\n  - Callback propagation\n  - Accessibility requirements\n\n- **index.ts**: Exported TaskList, TaskListProps, and TaskGroup types\n\n### Integration\nTaskList is designed to be used as the `taskList` prop of TaskSidebar component.","created_at":"2026-01-18T20:24:31Z"}]}
{"id":"rui-4rt.5","title":"Create TaskCard component","description":"Display individual task with ID, title. Click to expand/edit. Inline status change.","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T20:15:28.537772+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T21:20:09.483124+01:00","closed_at":"2026-01-18T21:20:09.483124+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rui-4rt.5","depends_on_id":"rui-4rt","type":"parent-child","created_at":"2026-01-18T20:15:28.538319+01:00","created_by":"Herb Caudill"}],"comments":[{"id":17,"issue_id":"rui-4rt.5","author":"Herb Caudill","text":"Created TaskCard component with:\n\n- Status icon display for all 5 statuses (open, in_progress, blocked, deferred, closed)\n- Task ID and title with priority badge (P0-P4) when provided\n- Expandable details section showing description, issue type, and parent info\n- Inline status change dropdown menu with full keyboard accessibility\n- Visual treatment for closed tasks (opacity + strikethrough)\n- 36 comprehensive unit tests covering all functionality\n\nComponent is exported from tasks index and ready for use in TaskList.","created_at":"2026-01-18T20:20:05Z"}]}
{"id":"rui-4rt.6","title":"Create WorkspacePicker component","description":"Dropdown to switch between bd databases/workspaces. Shows current workspace in header.","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T20:15:29.313724+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T21:41:11.784992+01:00","closed_at":"2026-01-18T21:41:11.784992+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rui-4rt.6","depends_on_id":"rui-4rt","type":"parent-child","created_at":"2026-01-18T20:15:29.314289+01:00","created_by":"Herb Caudill"}],"comments":[{"id":21,"issue_id":"rui-4rt.6","author":"Herb Caudill","text":"## Changes Made\n\n### Server-side\n- Added `BdProxy.getInfo()` method that calls `bd info --json` to fetch workspace information\n- Added `/api/workspace` GET endpoint that returns:\n  - `path`: Full workspace path (derived from database path)\n  - `name`: Workspace folder name\n  - `issueCount`: Number of issues in the workspace\n  - `daemonConnected`: Whether bd daemon is connected\n  - `daemonStatus`: Daemon health status\n\n### Client-side\n- Extracted `WorkspacePicker` from `Header.tsx` into its own file `WorkspacePicker.tsx`\n- Component now fetches real workspace data from the server on mount\n- Shows workspace name with issue count badge\n- Dropdown displays full path, issue count, and daemon connection status\n- Includes refresh button to refetch workspace info\n- \"Open workspace...\" button placeholder for future workspace selection\n\n### Tests\n- Added `BdProxy.getInfo()` tests to verify correct CLI arguments and response parsing\n- Added comprehensive `WorkspacePicker` component tests (14 tests)\n- Updated `Header`, `MainLayout`, and `App` tests to mock fetch for WorkspacePicker\n\n### Exports\n- Added `WorkspacePicker`, `WorkspacePickerProps`, and `WorkspaceInfo` exports to layout index","created_at":"2026-01-18T20:41:08Z"}]}
{"id":"rui-4tm","title":"Shiki highlighter setup","description":"Create lazy-initialized Shiki singleton with loadTheme() and highlight() wrapper in src/lib/theme/highlighter.ts","status":"open","priority":3,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T19:19:01.78421+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T19:19:01.78421+01:00","dependencies":[{"issue_id":"rui-4tm","depends_on_id":"rui-bnb","type":"parent-child","created_at":"2026-01-19T19:19:36.31433+01:00","created_by":"Herb Caudill"},{"issue_id":"rui-4tm","depends_on_id":"rui-tzz","type":"blocks","created_at":"2026-01-19T19:19:48.630711+01:00","created_by":"Herb Caudill"}]}
{"id":"rui-4uq","title":"cmd+/ opens up a list of hotkeys","status":"open","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T19:01:26.202265+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T19:01:26.202265+01:00"}
{"id":"rui-4vp","title":"When I enter a task, rather than take my text as the title, run Claude Code and ask it to create the task. Make a default prompt for that (stored in a markdown file) but also copy it to the .ralph folder and commit it so that it can be adjusted on a per-repo basis","status":"open","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T18:50:44.854643+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T18:50:44.854643+01:00"}
{"id":"rui-5cc","title":"get rid of the caret for expanding tasks","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T18:25:49.052529+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T18:41:55.00818+01:00","closed_at":"2026-01-19T18:41:55.00818+01:00","close_reason":"Closed","comments":[{"id":50,"issue_id":"rui-5cc","author":"Herb Caudill","text":"Removed the ChevronDown expand indicator from TaskCard. Changes include:\n\n- Removed ChevronDown import from lucide-react\n- Removed the expand indicator JSX and associated CSS classes\n- Removed 4 tests that were checking for the expand indicator\n- The expand/collapse functionality still works via clicking the task title\n\nAll tests pass and build succeeds.","created_at":"2026-01-19T17:41:50Z"}]}
{"id":"rui-5w0","title":"useVSCodeTheme hook","description":"Hook to fetch themes from API, auto-apply current VS Code theme, handle theme switching and preview on hover","status":"open","priority":3,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T19:19:16.029294+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T19:19:16.029294+01:00","dependencies":[{"issue_id":"rui-5w0","depends_on_id":"rui-bnb","type":"parent-child","created_at":"2026-01-19T19:19:36.319798+01:00","created_by":"Herb Caudill"},{"issue_id":"rui-5w0","depends_on_id":"rui-obb","type":"blocks","created_at":"2026-01-19T19:19:59.851253+01:00","created_by":"Herb Caudill"},{"issue_id":"rui-5w0","depends_on_id":"rui-i3g","type":"blocks","created_at":"2026-01-19T19:19:59.972324+01:00","created_by":"Herb Caudill"},{"issue_id":"rui-5w0","depends_on_id":"rui-4tm","type":"blocks","created_at":"2026-01-19T19:20:00.094654+01:00","created_by":"Herb Caudill"}]}
{"id":"rui-6kc","title":"Show a spinner at the bottom of the event log as long as Ralph is running","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T18:56:36.498321+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T19:06:50.821658+01:00","closed_at":"2026-01-19T19:06:50.821658+01:00","close_reason":"Closed","comments":[{"id":61,"issue_id":"rui-6kc","author":"Herb Caudill","text":"## Changes Made\n\nAdded a spinner at the bottom of the event log that appears when Ralph is running or starting.\n\n### Implementation:\n- Imported `Loader2` icon from lucide-react for the animated spinner\n- Added `selectRalphStatus` selector to track Ralph's current status\n- Spinner shows when status is 'running' or 'starting'\n- Positioned at the bottom of the event stream, after streaming content\n- Uses muted foreground color to not be too distracting\n- Includes proper accessibility attributes (aria-label, aria-hidden)\n\n### Tests Added:\n- Spinner shows when Ralph is running\n- Spinner shows when Ralph is starting\n- Spinner hidden when Ralph is stopped\n- Spinner hidden when Ralph is paused\n- Spinner not shown in empty state (no events)","created_at":"2026-01-19T18:06:47Z"}]}
{"id":"rui-6q8","title":"the events received since the last time ralph was started should be persisted in local storage. In general if I reload the app, its state should be preserved","status":"open","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T19:35:39.332771+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T19:35:39.332771+01:00"}
{"id":"rui-7bu","title":"Wire up quick task input focus hotkey (Cmd+K)","description":"The QuickTaskInput component exists but isn't integrated into the main App layout. The Cmd+K hotkey should focus it, but currently falls back to focusing the sidebar.","status":"closed","priority":3,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T23:06:11.508324+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T02:04:24.47407+01:00","closed_at":"2026-01-19T02:04:24.47407+01:00","close_reason":"Closed","comments":[{"id":42,"issue_id":"rui-7bu","author":"Herb Caudill","text":"## Changes Made\n\n### QuickTaskInput Component\n- Added `forwardRef` wrapper to enable imperative handle\n- Added `useImperativeHandle` to expose `focus()` method via ref\n- Created internal `inputRef` to reference the input element\n- Exported new `QuickTaskInputHandle` interface\n\n### App.tsx\n- Created `quickTaskInputRef` to hold reference to QuickTaskInput\n- Updated `TasksSidebarPanel` to accept and pass through `quickInputRef` prop\n- Updated `handleFocusTaskInput` callback to call `quickTaskInputRef.current?.focus()`\n\n### Tests\n- Added test for `imperative handle` that verifies focus method works via ref\n\nCmd+K hotkey now properly focuses the quick task input in the sidebar.","created_at":"2026-01-19T01:04:20Z"}]}
{"id":"rui-7ts","title":"get rid of padding in the right hand pane (containing events from ralph and the type a message panel)","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T18:42:59.921709+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T18:47:07.98823+01:00","closed_at":"2026-01-19T18:47:07.98823+01:00","close_reason":"Closed","comments":[{"id":53,"issue_id":"rui-7ts","author":"Herb Caudill","text":"Removed padding from the main content area in MainLayout.tsx by removing the `p-4 md:p-6` classes from the container div wrapping the main content. This allows the events stream and message panel to use the full width without extra spacing.","created_at":"2026-01-19T17:47:04Z"}]}
{"id":"rui-7xe","title":"Group tasks by epic in sidebar","description":"Task lists should be grouped by epic (like bd list --pretty).\n\n- Tasks without an epic shown as flat list after epic groups\n- Each epic collapsible independently\n- Collapse state persisted to localStorage","status":"closed","priority":2,"issue_type":"feature","owner":"herb@devresults.com","created_at":"2026-01-18T20:54:41.563703+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T22:20:58.616475+01:00","closed_at":"2026-01-18T22:20:58.616475+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rui-7xe","depends_on_id":"rui-4rt","type":"blocks","created_at":"2026-01-18T20:54:46.133415+01:00","created_by":"Herb Caudill"}],"comments":[{"id":28,"issue_id":"rui-7xe","author":"Herb Caudill","text":"## Summary\n\nImplemented epic grouping for the task sidebar, matching the behavior of `bd list --pretty`.\n\n### Changes Made\n\n**TaskList Component (`src/components/tasks/TaskList.tsx`)**:\n- Added `EpicGroupHeader` component for displaying collapsible epic sections\n- Restructured task grouping: tasks with an epic parent are now grouped under their epic\n- Tasks without an epic parent are shown in status groups below the epic groups\n- Each epic group shows: epic ID, title, task count, and collapse indicator\n- Tasks within epic groups are indented for visual hierarchy\n- Epic collapse state is persisted to localStorage separately from status collapse state\n\n**Stories (`src/components/tasks/TaskList.stories.tsx`)**:\n- Added `GroupedByEpic` story demonstrating mixed epic and ungrouped tasks\n- Added `OnlyEpicTasks` story showing only epic-grouped tasks\n\n### Features\n- ✅ Tasks grouped by parent epic\n- ✅ Tasks without epic shown as flat list after epic groups  \n- ✅ Each epic collapsible independently\n- ✅ Collapse state persisted to localStorage","created_at":"2026-01-18T21:20:55Z"}]}
{"id":"rui-7xj","title":"show the play/pause/stop buttons","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T18:32:20.445145+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T18:55:57.154455+01:00","closed_at":"2026-01-19T18:55:57.154455+01:00","close_reason":"Closed","comments":[{"id":57,"issue_id":"rui-7xj","author":"Herb Caudill","text":"## Summary\n\nAdded play/pause/stop control buttons to the application header.\n\n### Changes\n\n- **Header.tsx**: Imported and added the existing `ControlBar` component to the header's right side, next to the theme toggle\n- **Header.test.tsx**: Added 3 new tests to verify:\n  - Control bar buttons are rendered (Start, Pause, Stop, Stop after current)\n  - Start button is enabled when Ralph is stopped and connected\n  - All control buttons are disabled when disconnected\n\nThe ControlBar component was already fully implemented with all the button states and API integration - it just needed to be added to the Header component.","created_at":"2026-01-19T17:55:53Z"}]}
{"id":"rui-7y5","title":"get rid of the button to hide/show the sidebar","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T18:32:01.145093+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T18:50:17.349941+01:00","closed_at":"2026-01-19T18:50:17.349941+01:00","close_reason":"Closed","comments":[{"id":54,"issue_id":"rui-7y5","author":"Herb Caudill","text":"Removed the sidebar toggle button from the MainLayout component. The sidebar can still be toggled using the Cmd+B (Mac) keyboard shortcut. Updated unit tests and e2e tests to use the store/hotkey method instead of clicking the removed button.","created_at":"2026-01-19T17:50:14Z"}]}
{"id":"rui-83u","title":"Auto-focus the task input. The tab key should just take me back and forth between the task input and the message input.","status":"open","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T20:14:52.735671+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T20:14:52.735671+01:00"}
{"id":"rui-8n4","title":"make the \"add\" button in the add task input group solid colored with the icon in white","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T18:27:03.896143+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T18:44:09.961581+01:00","closed_at":"2026-01-19T18:44:09.961581+01:00","close_reason":"Closed","comments":[{"id":51,"issue_id":"rui-8n4","author":"Herb Caudill","text":"Updated QuickTaskInput button styling:\n\n- Changed from ghost-style button (muted text that turns foreground on hover) to solid primary-colored button\n- Button now has `bg-primary text-primary-foreground` which gives it a solid background with white icon\n- Added `rounded-md` for rounded corners consistent with other UI buttons\n- Updated focus state to use ring styling (`focus-visible:ring-ring/50 focus-visible:ring-[3px]`) matching the Button component pattern\n- Hover state dims slightly with `hover:bg-primary/90`","created_at":"2026-01-19T17:44:06Z"}]}
{"id":"rui-8rl","title":"Fix failing test: TaskList 'shows all closed tasks when all_time is selected'","description":"## Problem\n\nThe test `shows all closed tasks when all_time is selected` in `TaskList.test.tsx` is failing.\n\n## Root Cause\n\nThe test creates a task from 30 days ago, which gets filtered out by the default `past_day` filter. Since the task is filtered out, the closed group appears empty, and by default empty groups are hidden (showEmptyGroups defaults to false). So there's no combobox to find when the test tries to change the filter.\n\n## Error\n\n```\nTestingLibraryElementError: Unable to find an accessible element with the role \"combobox\" and name \"Filter closed tasks by time\"\n```\n\nThe rendered output shows only an empty \"No tasks\" message because the entire closed group (including its header with the time filter dropdown) is hidden.\n\n## Fix\n\nAdd `showEmptyGroups={true}` to the test's render call at line 640, so that the closed group header (with the time filter dropdown) is visible even when all tasks are filtered out:\n\n```tsx\nrender(\u003cTaskList tasks={tasks} defaultCollapsed={{ closed: false }} persistCollapsedState={false} showEmptyGroups={true} /\u003e)\n```\n\nThis matches the intent of the test - we need to see the filter dropdown to change it from past_day to all_time.","status":"closed","priority":1,"issue_type":"bug","owner":"herb@devresults.com","created_at":"2026-01-19T19:20:16.899781+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T19:21:43.539013+01:00","closed_at":"2026-01-19T19:21:43.539013+01:00","close_reason":"Closed","comments":[{"id":64,"issue_id":"rui-8rl","author":"Herb Caudill","text":"## Fix Summary\n\nFixed the failing test `shows all closed tasks when all_time is selected` in `TaskList.test.tsx`.\n\n### Root Cause\nThe test created a task from 30 days ago, which gets filtered out by the default `past_day` filter. Since the task is filtered out, the closed group appears empty, and empty groups are hidden by default. This meant the time filter dropdown wasn't rendered.\n\n### Solution\nAdded `showEmptyGroups={true}` to the test's render call so the closed group header (with the time filter dropdown) remains visible even when all tasks are filtered out by the current time filter.\n\nAlso removed an unused `ClosedTasksTimeFilter` import from the test file that was causing a TypeScript error during build.\n\n### Files Changed\n- `src/components/tasks/TaskList.test.tsx`","created_at":"2026-01-19T18:21:40Z"}]}
{"id":"rui-8y8","title":"Make task status headings collapsible","description":"Status group headings (Ready, In Progress, Blocked) should be collapsible.\n\nRequirements:\n- Still show task counts when collapsed\n- Persist collapsed state to localStorage\n- Default: Ready + In Progress expanded, Blocked collapsed","status":"closed","priority":2,"issue_type":"feature","owner":"herb@devresults.com","created_at":"2026-01-18T20:47:57.118937+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T22:08:01.246191+01:00","closed_at":"2026-01-18T22:08:01.246191+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rui-8y8","depends_on_id":"rui-4rt","type":"blocks","created_at":"2026-01-18T20:48:25.034308+01:00","created_by":"Herb Caudill"}],"comments":[{"id":26,"issue_id":"rui-8y8","author":"Herb Caudill","text":"## Changes Made\n\n- **localStorage persistence**: Collapsed state now automatically saves to localStorage and restores on page reload\n- **New defaults**: Blocked group is now collapsed by default (Ready + In Progress remain expanded, as requested)\n- **New prop**: Added `persistCollapsedState` prop to optionally disable localStorage persistence (useful for testing)\n- **Tests**: Added comprehensive test coverage for localStorage behavior (persistence, restoration, and prop override behavior)\n\nThe collapsed state is stored under the key `ralph-ui-task-list-collapsed-state` in localStorage.","created_at":"2026-01-18T21:07:57Z"}]}
{"id":"rui-8ze","title":"add syntax highlighting for code","description":"use Shiki","status":"open","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T19:02:48.561626+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T19:24:49.282316+01:00"}
{"id":"rui-95i","title":"The principal buttons (add task, send message) should be the accent color","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T18:51:24.549828+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T19:04:37.011175+01:00","closed_at":"2026-01-19T19:04:37.011175+01:00","close_reason":"Closed","comments":[{"id":60,"issue_id":"rui-95i","author":"Herb Caudill","text":"## Changes Made\n\n- Added `getContrastingColor()` utility function in `src/lib/utils.ts` that uses WCAG luminance calculation to determine whether to use white or black text for a given background color\n- Modified `QuickTaskInput` component to use the accent color from the store (Peacock settings) for the \"Add task\" button\n- Modified `ChatInput` component to use the accent color from the store for the \"Send message\" button\n- Both buttons now use inline styles for background color and automatically calculate contrasting text color\n- Falls back to black with white text when no Peacock accent color is set\n- Added comprehensive unit tests for the `getContrastingColor()` function\n- Updated ChatInput tests to verify accent color styling is applied correctly\n- Added tests for accent color changes from the store","created_at":"2026-01-19T18:04:33Z"}]}
{"id":"rui-96m","title":"pausing ralph changes the state of the control buttons but events keep coming in","status":"open","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T20:04:49.530954+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T20:39:20.344119+01:00","comments":[{"id":80,"issue_id":"rui-96m","author":"Herb Caudill","text":"Fixed the pause functionality so events are properly buffered while Ralph is paused:\n\n- Added `pausedEvents` array in RalphManager to buffer incoming events during pause\n- When paused, JSON events are buffered instead of emitted to clients\n- Non-JSON output is discarded while paused\n- On resume, buffered events are emitted in order\n- Buffered events are cleared when the process exits\n\nAdded tests for:\n- Events not being emitted while paused\n- Output not being emitted while paused  \n- Buffered events being emitted on resume\n- Buffered events being cleared on exit","created_at":"2026-01-19T19:38:36Z"}]}
{"id":"rui-9dq","title":"React shell","description":"Basic React app setup with routing, state management, and layout","status":"closed","priority":2,"issue_type":"epic","owner":"herb@devresults.com","created_at":"2026-01-18T20:14:19.828526+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T21:46:30.434975+01:00","closed_at":"2026-01-18T21:46:30.434975+01:00","close_reason":"Closed"}
{"id":"rui-9dq.1","title":"Set up Vite + React + Tailwind + shadcn/ui","description":"Configure the existing scaffolded app with shadcn/ui components. Already have Vite/React/Tailwind from scaffold.","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T20:14:48.744181+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T20:24:56.369502+01:00","closed_at":"2026-01-18T20:24:56.369502+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rui-9dq.1","depends_on_id":"rui-9dq","type":"parent-child","created_at":"2026-01-18T20:14:48.744792+01:00","created_by":"Herb Caudill"}],"comments":[{"id":1,"issue_id":"rui-9dq.1","author":"Herb Caudill","text":"## Task Complete\n\nThe Vite + React + Tailwind + shadcn/ui setup was already in place from the initial project scaffold:\n\n- **components.json** - shadcn/ui configuration (new-york style, Tailwind v4, Tabler icons)\n- **src/lib/utils.ts** - cn() utility function for class merging\n- **src/components/ui/button.tsx** - shadcn Button component already installed\n- **src/index.css** - Tailwind CSS with shadcn CSS variables (light/dark themes)\n- **tsconfig.app.json** - Path alias `@/*` configured\n- **vite.config.ts** - Vite resolve alias configured\n- Dependencies installed: class-variance-authority, clsx, tailwind-merge, @radix-ui/react-slot, @tabler/icons-react\n\nAll tests and typecheck pass. Ready for dependent tasks.","created_at":"2026-01-18T19:24:52Z"}]}
{"id":"rui-9dq.2","title":"Create WebSocket client hook","description":"useWebSocket hook with auto-reconnect, connection status, and message handling.","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T20:14:49.608551+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T20:44:35.745224+01:00","closed_at":"2026-01-18T20:44:35.745224+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rui-9dq.2","depends_on_id":"rui-9dq","type":"parent-child","created_at":"2026-01-18T20:14:49.609105+01:00","created_by":"Herb Caudill"},{"issue_id":"rui-9dq.2","depends_on_id":"rui-lo2.1","type":"blocks","created_at":"2026-01-18T20:15:45.958772+01:00","created_by":"Herb Caudill"}],"comments":[{"id":6,"issue_id":"rui-9dq.2","author":"Herb Caudill","text":"## Summary\n\nCreated `useWebSocket` React hook in `src/hooks/useWebSocket.ts`.\n\n### Features\n\n- **Auto-connect**: Automatically connects on mount (configurable via `autoConnect` option)\n- **Auto-reconnect**: Reconnects after disconnection with configurable delay and max attempts\n- **Connection status**: Tracks `disconnected`, `connecting`, `connected` states\n- **Message handling**: Auto-parses JSON messages, calls `onMessage` callback\n- **Send messages**: `send()` method that JSON-stringifies non-string data\n- **Manual control**: `connect()` and `disconnect()` methods for manual control\n- **Reconnect tracking**: Tracks number of reconnection attempts\n\n### Options\n\n```typescript\ninterface UseWebSocketOptions {\n  url?: string              // WebSocket URL (defaults to ws://host/ws)\n  autoConnect?: boolean     // Connect on mount (default: true)\n  autoReconnect?: boolean   // Reconnect on close (default: true)\n  reconnectDelay?: number   // Delay between attempts (default: 1000ms)\n  maxReconnectAttempts?: number  // Max attempts, 0=unlimited (default: 0)\n  onMessage?: (data: unknown) =\u003e void\n  onConnect?: () =\u003e void\n  onDisconnect?: (event: CloseEvent) =\u003e void\n  onError?: (error: Event) =\u003e void\n}\n```\n\n### Return Value\n\n```typescript\ninterface UseWebSocketReturn {\n  status: ConnectionStatus    // 'disconnected' | 'connecting' | 'connected'\n  isConnected: boolean\n  send: (message: unknown) =\u003e void\n  connect: () =\u003e void\n  disconnect: () =\u003e void\n  reconnectAttempts: number\n}\n```\n\n### Tests\n\n19 comprehensive tests covering connection lifecycle, auto-reconnect, messaging, manual control, error handling, and cleanup.","created_at":"2026-01-18T19:44:31Z"}]}
{"id":"rui-9dq.3","title":"Set up Zustand store","description":"Create store/index.ts with state for: ralph status, events, tasks, current workspace, connection status.","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T20:14:50.433915+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T20:46:42.69738+01:00","closed_at":"2026-01-18T20:46:42.69738+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rui-9dq.3","depends_on_id":"rui-9dq","type":"parent-child","created_at":"2026-01-18T20:14:50.434487+01:00","created_by":"Herb Caudill"}],"comments":[{"id":7,"issue_id":"rui-9dq.3","author":"Herb Caudill","text":"## Summary\n\nImplemented Zustand store for global state management with the following state:\n\n- **ralphStatus**: Ralph process status (stopped/starting/running/stopping)\n- **events**: Array of RalphEvent objects from ralph stdout\n- **tasks**: Array of Task objects with id, content, and status\n- **workspace**: Current workspace path (string or null)\n- **connectionStatus**: WebSocket connection status (disconnected/connecting/connected)\n\n### Actions\n- setRalphStatus, addEvent, clearEvents\n- setTasks, updateTask, clearTasks\n- setWorkspace, setConnectionStatus\n- reset (resets all state to initial values)\n\n### Selectors\n- selectRalphStatus, selectEvents, selectTasks\n- selectWorkspace, selectConnectionStatus\n- selectIsConnected, selectIsRalphRunning\n\n### Files created\n- `src/store/index.ts` - Store implementation with types\n- `src/store/index.test.ts` - 16 tests covering all functionality","created_at":"2026-01-18T19:46:39Z"}]}
{"id":"rui-9dq.4","title":"Create main layout component","description":"App.tsx with sidebar (tasks) + main area (agent view) + status bar layout. Responsive design.","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T20:14:51.195363+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T20:50:01.807242+01:00","closed_at":"2026-01-18T20:50:01.807242+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rui-9dq.4","depends_on_id":"rui-9dq","type":"parent-child","created_at":"2026-01-18T20:14:51.195942+01:00","created_by":"Herb Caudill"},{"issue_id":"rui-9dq.4","depends_on_id":"rui-9dq.1","type":"blocks","created_at":"2026-01-18T20:15:45.143077+01:00","created_by":"Herb Caudill"}],"comments":[{"id":8,"issue_id":"rui-9dq.4","author":"Herb Caudill","text":"## Summary\n\nCreated the MainLayout component with a responsive three-panel layout:\n\n### Components Created\n- **MainLayout** (`src/components/layout/MainLayout.tsx`): Main application layout with:\n  - Collapsible sidebar (left panel) for tasks\n  - Main content area (center) for agent view  \n  - Status bar (bottom) for connection and status info\n  - Toggle button to collapse/expand sidebar\n  - Responsive widths: 256px/288px/320px at different breakpoints\n\n### Integration\n- Updated `App.tsx` to use the new layout with placeholder components:\n  - `TasksSidebar`: Placeholder for task list\n  - `AgentView`: Placeholder for agent monitoring dashboard\n  - `StatusBar`: Shows connection status and Ralph process status from store\n\n### Tests\n- Added 6 unit tests for MainLayout component\n- Updated App tests (2 tests)\n- Added 2 e2e tests for layout and sidebar toggle functionality\n\nAll tests passing (84 unit, 2 e2e).","created_at":"2026-01-18T19:49:56Z"}]}
{"id":"rui-9dq.5","title":"Create Header component","description":"Logo, workspace picker dropdown, connection status indicator.","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T20:14:52.123492+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T20:53:44.152659+01:00","closed_at":"2026-01-18T20:53:44.152659+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rui-9dq.5","depends_on_id":"rui-9dq","type":"parent-child","created_at":"2026-01-18T20:14:52.124103+01:00","created_by":"Herb Caudill"}],"comments":[{"id":9,"issue_id":"rui-9dq.5","author":"Herb Caudill","text":"## Summary\n\nCreated the Header component with the following features:\n\n### Components\n- **Logo**: Displays the Ralph logo and brand name\n- **WorkspacePicker**: Dropdown showing current workspace with ability to switch workspaces\n  - Shows the workspace folder name (extracted from full path)\n  - Shows \"No workspace\" when no workspace is set\n  - Dropdown menu with recent workspaces and \"Open workspace...\" option\n  - Closes when clicking outside\n- **ConnectionIndicator**: Shows WebSocket connection status\n  - Green dot for connected\n  - Yellow dot for connecting\n  - Red dot for disconnected\n  - Status text visible on larger screens (hidden on mobile)\n\n### Integration\n- Header is now automatically included in MainLayout\n- Can be customized via `header` prop or hidden via `showHeader={false}`\n\n### Tests\n- 9 unit tests covering all functionality\n- Updated App.test.tsx and e2e tests to account for connection status appearing in multiple places","created_at":"2026-01-18T19:53:40Z"}]}
{"id":"rui-9dq.6","title":"Create StatusBar component","description":"Bottom bar showing: run status (● Running), repo/branch, token usage (↓in ↑out), iteration progress bar with count.","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T20:14:53.398933+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T20:57:24.299671+01:00","closed_at":"2026-01-18T20:57:24.299671+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rui-9dq.6","depends_on_id":"rui-9dq","type":"parent-child","created_at":"2026-01-18T20:14:53.399497+01:00","created_by":"Herb Caudill"}],"comments":[{"id":10,"issue_id":"rui-9dq.6","author":"Herb Caudill","text":"## Summary\n\nImplemented the StatusBar component which displays:\n\n- **Run Status Indicator**: Shows current Ralph status (Stopped/Starting/Running/Stopping) with color-coded indicator dot\n- **Repository/Branch Display**: Shows workspace repo name and current git branch with git branch icon\n- **Token Usage Display**: Shows input/output token counts with ↓/↑ arrows, formatted with k/M suffixes for readability\n- **Iteration Progress Bar**: Visual progress bar with count (X/Y) when iterations are active\n\n### Store Updates\nExtended the Zustand store with:\n- `branch` state and `setBranch` action\n- `tokenUsage` state with `setTokenUsage` and `addTokenUsage` actions\n- `iteration` state with `setIteration` action\n- New selectors: `selectBranch`, `selectTokenUsage`, `selectIteration`\n\n### Files Changed\n- `src/components/layout/StatusBar.tsx` - New component\n- `src/components/layout/StatusBar.test.tsx` - 15 unit tests\n- `src/components/layout/index.ts` - Export StatusBar\n- `src/store/index.ts` - Extended state and actions\n- `src/store/index.test.ts` - 7 new tests for store extensions","created_at":"2026-01-18T19:57:20Z"}]}
{"id":"rui-9m2","title":"tighten up the leading on assistant text","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T18:19:33.122046+01:00","updated_at":"2026-01-19T18:24:29.024651+01:00","closed_at":"2026-01-19T18:24:29.024651+01:00","close_reason":"Closed","comments":[{"id":44,"issue_id":"rui-9m2","author":"Herb Caudill","text":"## Changes Made\n\nTightened the line-height (leading) on assistant text paragraphs:\n\n- Changed `prose-p:leading-relaxed` to `prose-p:leading-snug` in `AssistantText.tsx`\n- This reduces line-height from 1.625 to 1.375, creating more compact text that is still readable with the serif font\n\nThe change affects all assistant text rendered via the `AssistantText` component.","created_at":"2026-01-19T17:24:25Z"}]}
{"id":"rui-9to","title":"TypeScript build errors in story files and vite.config.ts","status":"closed","priority":1,"issue_type":"bug","owner":"herb@devresults.com","created_at":"2026-01-19T18:24:01.856286+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T18:26:37.03928+01:00","closed_at":"2026-01-19T18:26:37.03928+01:00","close_reason":"Closed","comments":[{"id":43,"issue_id":"rui-9to","author":"Herb Caudill","text":"## Build Errors\n\nRunning `pnpm build` fails with the following TypeScript errors:\n\n```\nsrc/components/tasks/TaskCard.stories.tsx(86,7): error TS2353: Object literal may only specify known properties, and 'defaultExpanded' does not exist in type 'TaskCardTask'.\nsrc/components/tasks/TaskList.stories.tsx(54,7): error TS2353: Object literal may only specify known properties, and 'other' does not exist in type 'Partial\u003cRecord\u003cTaskGroup, boolean\u003e\u003e'.\nsrc/components/tasks/TaskList.stories.tsx(66,7): error TS2353: Object literal may only specify known properties, and 'other' does not exist in type 'Partial\u003cRecord\u003cTaskGroup, boolean\u003e\u003e'.\nsrc/components/tasks/TaskList.stories.tsx(111,7): error TS2353: Object literal may only specify known properties, and 'other' does not exist in type 'Partial\u003cRecord\u003cTaskGroup, boolean\u003e\u003e'.\nvite.config.ts(26,33): error TS6133: 'err' is declared but its value is never read.\n```\n\nThese need to be fixed for production builds to work.","created_at":"2026-01-19T17:24:07Z"},{"id":45,"issue_id":"rui-9to","author":"Herb Caudill","text":"## Summary of Changes\n\nFixed all TypeScript build errors that were preventing production builds:\n\n### TaskCard.stories.tsx\n- Removed invalid `defaultExpanded` property from the task object in the `WithDescription` story. This property belongs on the story args (props), not inside the `TaskCardTask` type.\n\n### TaskList.stories.tsx  \n- Replaced invalid `other` group key with `closed` in three stories (`AllGroupsExpanded`, `AllGroupsCollapsed`, `ShowEmptyGroups`). The `TaskGroup` type only supports: `blocked`, `ready`, `in_progress`, `closed`.\n\n### vite.config.ts\n- Prefixed the unused `err` parameter with underscore (`_err`) in the WebSocket proxy error handler to satisfy TypeScript's `noUnusedLocals` check.\n\n**Build verification:** `pnpm build` now completes successfully.\n**Test verification:** All 473 unit tests and 2 e2e tests pass.","created_at":"2026-01-19T17:26:33Z"}]}
{"id":"rui-a2g","title":"Add keyboard hotkeys for all actions","description":"Full keyboard coverage:\n- Agent control (start, pause, stop, stop-after-current)\n- Navigation (move between tasks, focus sidebar/main)\n- Task management (create, edit, change status)\n\nStyle: VS Code-style (Cmd/Ctrl+Shift combos)\nConfig: Define hotkeys in a JSON file in the repo (not a settings UI)","status":"closed","priority":2,"issue_type":"feature","owner":"herb@devresults.com","created_at":"2026-01-18T20:47:54.550902+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T21:57:58.494466+01:00","closed_at":"2026-01-18T21:57:58.494466+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rui-a2g","depends_on_id":"rui-4rt","type":"blocks","created_at":"2026-01-18T20:48:22.515398+01:00","created_by":"Herb Caudill"}],"comments":[{"id":24,"issue_id":"rui-a2g","author":"Herb Caudill","text":"## Implementation Summary\n\nImplemented VS Code-style keyboard hotkeys for ralph-ui.\n\n### Files Created\n- `src/config/hotkeys.json` - JSON configuration file defining all hotkeys\n- `src/config/hotkeys.schema.json` - JSON Schema for configuration validation\n- `src/config/index.ts` - TypeScript exports for hotkey config\n- `src/hooks/useHotkeys.ts` - Hook for global keyboard event handling\n- `src/hooks/useHotkeys.test.ts` - Comprehensive tests (16 test cases)\n\n### Files Modified\n- `src/store/index.ts` - Added sidebar state management (sidebarOpen, toggleSidebar)\n- `src/components/layout/MainLayout.tsx` - Now uses store for sidebar, exposes focus methods via ref\n- `src/components/chat/ChatInput.tsx` - Added ref handle for focus control\n- `src/App.tsx` - Integrated useHotkeys with all handler callbacks\n\n### Implemented Hotkeys\n| Shortcut | Action |\n|----------|--------|\n| Cmd+Enter | Start Ralph |\n| Cmd+. | Stop Ralph |\n| Cmd+Shift+. | Stop after current (placeholder) |\n| Cmd+/ | Pause (placeholder) |\n| Cmd+B | Toggle sidebar |\n| Cmd+1 | Focus sidebar |\n| Cmd+2 | Focus main content |\n| Cmd+K | Focus quick task input |\n| Cmd+L | Focus chat input |\n\n### Technical Details\n- Platform detection for Mac vs Windows/Linux (Cmd vs Ctrl)\n- Hotkeys work in input fields for agent control and navigation\n- Prevents default and stops propagation when handler fires\n- Uses event capturing phase for reliable handling\n- All hotkeys display with proper symbols (⌘⇧⌃⌥ on Mac)","created_at":"2026-01-18T20:57:55Z"}]}
{"id":"rui-a2r","title":"Change the \"Type a message...\" placeholder to \"Send Ralph a message...\"","status":"open","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T20:17:47.129314+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T20:17:47.129314+01:00"}
{"id":"rui-aet","title":"it doesn't seem like the messages I send to ralph are getting through","status":"in_progress","priority":0,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T20:09:39.147628+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T20:40:06.521365+01:00"}
{"id":"rui-alz","title":"in the status bar show how long ralph has been running","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T19:04:30.732017+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T20:09:56.050568+01:00","closed_at":"2026-01-19T20:09:56.050568+01:00","close_reason":"Closed","comments":[{"id":72,"issue_id":"rui-alz","author":"Herb Caudill","text":"Added RunDuration component to StatusBar that shows elapsed time while Ralph is running. Added runStartedAt state tracking in store that starts when Ralph transitions to running and clears when stopped.","created_at":"2026-01-19T19:09:52Z"}]}
{"id":"rui-an8","title":"Fix failing tests: TaskSidebar.test.tsx and App.test.tsx","description":"## Summary\nTests are failing due to TaskSidebar component refactoring. The tests expect a 'Tasks' heading and header styling that no longer exist in the component.\n\n## Failing Tests\n\n### TaskSidebar.test.tsx (4 failures)\n1. **renders with tasks heading** - expects `screen.getByRole('heading', { name: 'Tasks' })` but component has no heading\n2. **renders task icon** - expects an icon in a heading that doesn't exist\n3. **does not render quickInput area when not provided** - expects only 1 `.border-b` element (header), but there's no header\n4. **header has correct border styling** - expects header with `border-b` and `border-border` classes\n\n### App.test.tsx (1 failure)\n1. **renders the main layout with sidebar and status bar** - expects `screen.getByText('Tasks')` which no longer exists\n\n## Root Cause\nThe TaskSidebar component was refactored to be a pure layout component (slots pattern with quickInput and taskList props) without its own header. The tests were not updated to reflect this change.\n\n## Fix Options\n1. **Remove heading tests** - If the component intentionally has no heading, remove these tests\n2. **Add heading back** - If heading was removed by mistake, add it back to the component\n3. **Move heading responsibility** - Tests should check for 'Tasks' heading in a different location (e.g., in the actual app usage or parent component)","status":"closed","priority":1,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T23:29:58.958745+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T23:32:49.205522+01:00","closed_at":"2026-01-18T23:32:49.205522+01:00","close_reason":"Closed","comments":[{"id":29,"issue_id":"rui-an8","author":"Herb Caudill","text":"## Fix Summary\n\nFixed 5 failing tests caused by TaskSidebar component refactoring to a pure layout component (slots pattern).\n\n### Changes Made\n\n**src/components/tasks/TaskSidebar.test.tsx**\n- Removed 3 tests that expected non-existent header elements:\n  - 'renders with tasks heading' \n  - 'renders task icon'\n  - 'header has correct border styling'\n- Updated 'does not render quickInput area when not provided' test to expect 0 border-b elements (since there's no header)\n\n**src/App.test.tsx**\n- Changed assertion from `screen.getByText('Tasks')` to `screen.getByRole('complementary', { name: 'Task sidebar' })`\n\n**e2e/app.spec.ts**\n- Updated all 'Tasks' heading assertions to use complementary role for sidebar\n\n**src/components/layout/WorkspacePicker.tsx**\n- Removed unused PlusIcon component (was causing build failure)\n\n### Verification\n- All 457 unit tests pass\n- All 2 e2e tests pass\n- Build succeeds","created_at":"2026-01-18T22:32:45Z"}]}
{"id":"rui-azk","title":"put the spinner to the left. Instead of the rotating disc, alternate between the 6 topology-* icons in tabler icons, while spinning them","status":"open","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T19:11:14.74985+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T19:11:14.74985+01:00"}
{"id":"rui-bnb","title":"VS Code theme support","status":"open","priority":3,"issue_type":"epic","owner":"herb@devresults.com","created_at":"2026-01-19T19:18:42.084588+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T19:18:42.084588+01:00"}
{"id":"rui-cgf","title":"after adding a task the task input should retain focus","status":"open","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T20:20:11.476218+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T20:20:11.476218+01:00"}
{"id":"rui-cxn","title":"ThemePicker component","description":"Header dropdown showing all installed VS Code themes grouped by dark/light with hover preview","status":"open","priority":3,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T19:19:16.895707+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T19:19:16.895707+01:00","dependencies":[{"issue_id":"rui-cxn","depends_on_id":"rui-bnb","type":"parent-child","created_at":"2026-01-19T19:19:36.320903+01:00","created_by":"Herb Caudill"},{"issue_id":"rui-cxn","depends_on_id":"rui-5w0","type":"blocks","created_at":"2026-01-19T19:20:00.933224+01:00","created_by":"Herb Caudill"}]}
{"id":"rui-dco","title":"Pick up accent color from peacock settings","description":"Read peacock color from .vscode/settings.json (peacock.color key).\n\nFallback to black if not found.\n\nPurpose: Visual indicator to distinguish which project you're looking at.","status":"closed","priority":2,"issue_type":"feature","owner":"herb@devresults.com","created_at":"2026-01-18T20:47:55.684249+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T21:50:42.926879+01:00","closed_at":"2026-01-18T21:50:42.926879+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rui-dco","depends_on_id":"rui-4rt","type":"blocks","created_at":"2026-01-18T20:48:23.537208+01:00","created_by":"Herb Caudill"}],"comments":[{"id":23,"issue_id":"rui-dco","author":"Herb Caudill","text":"## Implementation Summary\n\nAdded peacock accent color support to distinguish projects visually.\n\n### Changes:\n\n**Server** (`server/index.ts`):\n- Added `readPeacockColor()` function that reads `.vscode/settings.json` and extracts the `peacock.color` value\n- Added `accentColor` field to the `/api/workspace` endpoint response\n- Falls back to `null` when peacock settings don't exist or are invalid\n\n**Frontend Store** (`src/store/index.ts`):\n- Added `accentColor` state (string | null)\n- Added `setAccentColor` action\n- Added `selectAccentColor` selector\n\n**WorkspacePicker** (`src/components/layout/WorkspacePicker.tsx`):\n- Updated to extract `accentColor` from workspace API response\n- Sets accent color in store when workspace info is fetched\n\n**Header** (`src/components/layout/Header.tsx`):\n- Added 4px colored bar at the top of the header\n- Uses accent color from store, falls back to black (`#000000`)\n- Bar has `data-testid=\"accent-bar\"` for testing\n\n### Tests:\n- Added `server/peacock.test.ts` with 6 tests for `readPeacockColor()`\n- Added 4 tests to Header.test.tsx for accent color bar behavior\n- Added 2 tests to store/index.test.ts for accent color state","created_at":"2026-01-18T20:50:39Z"}]}
{"id":"rui-e7s","title":"for the list of closed tasks, add a dropdown to the right of the 'Closed' label to choose between:\n- past hour\n- past day\n- past week\n- all time","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T18:34:11.500479+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T19:26:58.744088+01:00","closed_at":"2026-01-19T19:26:58.744088+01:00","close_reason":"Closed","comments":[{"id":66,"issue_id":"rui-e7s","author":"Herb Caudill","text":"This feature was already fully implemented. The closed tasks section has a dropdown with the following time filter options: Past hour, Past day, Past week, and All time. The implementation includes:\n- Time filter state management with localStorage persistence\n- Dropdown UI integrated into the Closed group header\n- Filtering logic that respects the closed_at timestamp\n- Comprehensive test coverage (tests in TaskList.test.tsx lines 592-736)","created_at":"2026-01-19T18:26:54Z"}]}
{"id":"rui-ea7","title":"move the status bar to the top of the right-hand panel. Add the name of the task currently being worked on","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T18:55:57.367667+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T20:01:32.638318+01:00","closed_at":"2026-01-19T20:01:32.638318+01:00","close_reason":"Closed","comments":[{"id":70,"issue_id":"rui-ea7","author":"Herb Caudill","text":"This task was already completed in a prior update. The status bar is now positioned at the top of the right-hand panel (main content area) in the AgentView component in App.tsx (lines 116-117, 142-188). It displays:\n\n- **Left side**: Current task ID and content (or 'No task in progress' when idle)\n- **Right side**: Connection status indicator (green/yellow/red dot with label) and Ralph status\n\nDuring this session, I fixed a build error caused by unused imports in `src/lib/ralphConnection.ts` - removed `RALPH_STATUSES` and `RalphStatus` that were imported but not used.","created_at":"2026-01-19T19:01:29Z"}]}
{"id":"rui-eep","title":"in the add task input, enter should submit and shift-enter should create a new line","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T19:27:10.826066+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T20:17:20.351803+01:00","closed_at":"2026-01-19T20:17:20.351803+01:00","close_reason":"Closed","comments":[{"id":75,"issue_id":"rui-eep","author":"Herb Caudill","text":"Changed QuickTaskInput keyboard behavior:\n\n- **Enter** now submits the task (previously required Cmd/Ctrl+Enter)\n- **Shift+Enter** creates a new line in the textarea\n\nUpdated JSDoc and all related tests to reflect this change.","created_at":"2026-01-19T19:17:16Z"}]}
{"id":"rui-egx","title":"use the folder-filled icon for workspaces and color it according to the workspace's accent color - both when showing the selected one and in the dropdown (replacing the colored dots)","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T18:30:57.848854+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T18:52:01.166394+01:00","closed_at":"2026-01-19T18:52:01.166394+01:00","close_reason":"Closed","comments":[{"id":55,"issue_id":"rui-egx","author":"Herb Caudill","text":"## Changes Made\n\nReplaced the colored dot indicators with filled folder icons that are colored according to each workspace's accent color:\n\n1. **Replaced FolderIcon with FolderFilledIcon** - Changed from a stroked outline folder to a solid filled folder icon\n2. **Added color prop to icon** - The new icon accepts a `color` prop to set the fill color directly\n3. **Selected workspace button** - The folder icon is now colored with the workspace's accent color (falls back to muted-foreground when no accent color is set)\n4. **Dropdown list items** - Replaced the small colored dots with 14px folder icons colored by each workspace's accent color\n\nThe result is a more cohesive visual design where folders consistently represent workspaces throughout the UI, with their accent colors providing visual differentiation.","created_at":"2026-01-19T17:51:57Z"}]}
{"id":"rui-el8","title":"Add status color CSS variables","description":"Add --status-success, --status-warning, --status-error, --status-info, --status-neutral CSS variables to index.css","status":"open","priority":3,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T19:19:14.071517+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T19:19:14.071517+01:00","dependencies":[{"issue_id":"rui-el8","depends_on_id":"rui-bnb","type":"parent-child","created_at":"2026-01-19T19:19:36.317638+01:00","created_by":"Herb Caudill"}]}
{"id":"rui-fcf","title":"TaskSidebar test failure: 'does not render quickInput area when not provided' expects wrong border count","description":"## Summary\n\nThe test `does not render quickInput area when not provided` in `TaskSidebar.test.tsx` is failing.\n\n## Root Cause\n\nThe test expects zero `.border-b` elements when `quickInput` is not provided, but the component was updated to include a header that always renders with a `border-b` class.\n\n**Test code (line 30-34):**\n```tsx\nit('does not render quickInput area when not provided', () =\u003e {\n  const { container } = render(\u003cTaskSidebar /\u003e)\n  // No border-b elements when quickInput not provided (component has no header)\n  const borderBElements = container.querySelectorAll('.border-b')\n  expect(borderBElements).toHaveLength(0)\n})\n```\n\n**Component now has a permanent header (line 37):**\n```tsx\n\u003cdiv className=\"border-border flex shrink-0 items-center gap-2 border-b px-4 py-3\"\u003e\n  ...\n  \u003ch2 className=\"text-sm font-semibold\"\u003eTasks\u003c/h2\u003e\n\u003c/div\u003e\n```\n\n## Fix\n\nUpdate the test to expect 1 `border-b` element (the header) when `quickInput` is not provided, and update the comment to reflect that the component now has a header.\n\n## Files\n\n- `src/components/tasks/TaskSidebar.test.tsx`","status":"closed","priority":1,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T23:38:49.993534+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T23:39:52.804618+01:00","closed_at":"2026-01-18T23:39:52.804618+01:00","close_reason":"Closed","comments":[{"id":31,"issue_id":"rui-fcf","author":"Herb Caudill","text":"## Fix Applied\n\nUpdated the test `does not render quickInput area when not provided` in `TaskSidebar.test.tsx`:\n\n- Changed expected `.border-b` element count from 0 to 1\n- Updated comment to reflect that the header now has a `border-b` class\n\nThe test was failing because the component was updated to include a permanent header with `border-b` styling, but the test still expected no `border-b` elements when `quickInput` was not provided.\n\n**Commit:** 0f96d9e","created_at":"2026-01-18T22:39:49Z"}]}
{"id":"rui-fsd","title":"Add pause support","description":"Enable pause button and implement handlePause when ralph CLI supports pause. Currently the button is always disabled. Locations: ControlBar.tsx getButtonStates(), handlePause(), and App.tsx handleAgentPause().","status":"closed","priority":2,"issue_type":"feature","owner":"herb@devresults.com","created_at":"2026-01-18T23:05:24.176869+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T01:36:47.114139+01:00","closed_at":"2026-01-19T01:36:47.114139+01:00","close_reason":"Closed","comments":[{"id":34,"issue_id":"rui-fsd","author":"Herb Caudill","text":"## Changes\n- Added `pause()` and `resume()` methods to RalphManager using SIGTSTP/SIGCONT signals\n- Added 'paused' status to RalphStatus type in store and server\n- Added /api/pause and /api/resume REST endpoints\n- Updated ControlBar:\n  - Enable pause button when running\n  - Toggle between Pause/Resume icons and labels based on state  \n  - Enable stop button when paused\n- Updated StatusBar with orange indicator for paused state\n- Updated hotkey description for Cmd+/ (pause/resume)\n- Added comprehensive tests for pause/resume functionality\n\n## Files changed\n- server/RalphManager.ts\n- server/index.ts\n- src/store/index.ts\n- src/App.tsx\n- src/components/controls/ControlBar.tsx\n- src/components/layout/StatusBar.tsx\n- src/config/hotkeys.json\n- Plus test files","created_at":"2026-01-19T00:36:43Z"}]}
{"id":"rui-fwl","title":"fix the act() test warnings","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T18:23:32.620916+01:00","updated_at":"2026-01-19T18:32:41.556276+01:00","closed_at":"2026-01-19T18:32:41.556276+01:00","close_reason":"Closed","comments":[{"id":46,"issue_id":"rui-fwl","author":"Herb Caudill","text":"Fixed the act() test warnings by:\n\n1. **Adding waitFor() calls** after render in tests that don't properly wait for async fetch operations to complete. Components like WorkspacePicker, Header, MainLayout, and App all fetch workspace info on mount, so tests need to wait for these operations.\n\n2. **Wrapping store method calls in act()** for tests that directly call zustand store methods (like `setAccentColor`) that trigger React state updates.\n\n3. **Properly mocking workspace responses** in tests that depend on accent color behavior to ensure the fetch doesn't overwrite the test's expected state.\n\nFiles modified:\n- `src/App.test.tsx`\n- `src/components/layout/Header.test.tsx`\n- `src/components/layout/MainLayout.test.tsx`\n- `src/components/layout/WorkspacePicker.test.tsx`\n\nAll 473 unit tests continue to pass with no act() warnings.","created_at":"2026-01-19T17:32:37Z"}]}
{"id":"rui-g0q","title":"Use an input group for messages to Ralph. The input should be a text area and should not have its own border. It should behave the same as the task input (enter submits, shift-enter adds a new line)","status":"open","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T20:16:44.182617+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T20:16:44.182617+01:00"}
{"id":"rui-ged","title":"get rid of the pathname under the workspace name in the dropdown","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T18:31:47.002608+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T18:45:39.594182+01:00","closed_at":"2026-01-19T18:45:39.594182+01:00","close_reason":"Closed","comments":[{"id":52,"issue_id":"rui-ged","author":"Herb Caudill","text":"Removed the pathname display from workspace dropdown items in WorkspacePicker.tsx. Previously each workspace in the dropdown showed both the name and the path (like ~/Code/project). Now it only shows the workspace name, simplifying the UI while the accent color dot and checkmark still indicate the workspace identity and active status.","created_at":"2026-01-19T17:45:35Z"}]}
{"id":"rui-hjx","title":"refactor so that all utility functions are in their own file (one file, one function)","status":"open","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T20:27:47.55908+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T20:27:47.55908+01:00"}
{"id":"rui-hob","title":"show the closed tasks in the order that they were closed","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T18:57:48.822417+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T19:10:33.705027+01:00","closed_at":"2026-01-19T19:10:33.705027+01:00","close_reason":"Closed","comments":[{"id":62,"issue_id":"rui-hob","author":"Herb Caudill","text":"Implemented sorting of closed tasks by `closed_at` timestamp (most recently closed first).\n\n**Changes:**\n- Added `closed_at` field to `BdIssue` interface in `server/BdProxy.ts`\n- Added `closed_at` field to `TaskCardTask` interface in `src/components/tasks/TaskCard.tsx`\n- Updated sorting logic in `TaskList.tsx` to sort closed tasks by `closed_at` (descending) instead of by priority\n- Tasks without a `closed_at` timestamp are sorted to the bottom of the closed list\n- Added unit tests to verify the sorting behavior\n\nThis makes it easier to see what was recently completed, with the most recently closed tasks appearing at the top of the Closed section.","created_at":"2026-01-19T18:10:30Z"}]}
{"id":"rui-i3g","title":"Theme color mapper","description":"Map VS Code color tokens to app CSS variables with fallback chains in src/lib/theme/mapper.ts","status":"open","priority":3,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T19:19:00.913655+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T19:19:00.913655+01:00","dependencies":[{"issue_id":"rui-i3g","depends_on_id":"rui-bnb","type":"parent-child","created_at":"2026-01-19T19:19:36.312962+01:00","created_by":"Herb Caudill"},{"issue_id":"rui-i3g","depends_on_id":"rui-tzz","type":"blocks","created_at":"2026-01-19T19:19:47.648811+01:00","created_by":"Herb Caudill"},{"issue_id":"rui-i3g","depends_on_id":"rui-nrh","type":"blocks","created_at":"2026-01-19T19:19:47.773188+01:00","created_by":"Herb Caudill"}]}
{"id":"rui-j2w","title":"In the event log, when displaying paths, if they're in this repo show the path relative to the repo (so `src/components/ui/dialog.tsx` instead of `Users/herbcaudill/Code/HerbCaudill/ralph-ui/src/components/ui/dialog.tsx`. I think you can do that by just calculating the full path of the repo once (in this case `Users/herbcaudill/Code/HerbCaudill/ralph-ui/` , and just eliminating that from any part of the response","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T19:31:01.168468+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T20:20:29.300687+01:00","closed_at":"2026-01-19T20:20:29.300687+01:00","close_reason":"Closed","comments":[{"id":76,"issue_id":"rui-j2w","author":"Herb Caudill","text":"## Summary of Changes\n\nAdded a `toRelativePath()` utility function in `src/lib/utils.ts` that converts absolute paths to workspace-relative paths when the file is within the current workspace.\n\nUpdated `ToolUseCard.tsx` to:\n- Import and use `toRelativePath` utility \n- Import workspace selector from store\n- Pass workspace to `getToolSummary` function\n- Apply relative path conversion for Read, Edit, and Write tool file paths\n\nAdded comprehensive tests:\n- 7 new tests in `utils.test.ts` for `toRelativePath` function (edge cases like trailing slashes, partial matches, null workspace)\n- 5 new tests in `ToolUseCard.test.tsx` verifying relative path display for Read/Edit/Write tools","created_at":"2026-01-19T19:20:25Z"}]}
{"id":"rui-lem","title":"Make sidebar resizable","status":"closed","priority":2,"issue_type":"feature","owner":"herb@devresults.com","created_at":"2026-01-18T23:30:48.298694+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T23:38:14.347731+01:00","closed_at":"2026-01-18T23:38:14.347731+01:00","close_reason":"Closed","comments":[{"id":30,"issue_id":"rui-lem","author":"Herb Caudill","text":"## Summary\n\nImplemented a resizable sidebar for the main layout.\n\n### Changes\n- Added `sidebarWidth` state (default: 320px) and `setSidebarWidth` action to the Zustand store\n- Added `selectSidebarWidth` selector\n- Modified `MainLayout` component to:\n  - Use dynamic width from store instead of fixed Tailwind classes\n  - Add a vertical resize handle on the sidebar's right edge\n  - Handle mouse drag events to resize\n  - Clamp width between 200px (min) and 600px (max)\n  - Disable CSS transitions during resize for smooth dragging\n  - Update toggle button position dynamically based on sidebar width\n\n### Tests Added\n- 6 new tests for resizable sidebar functionality in `MainLayout.test.tsx`\n- Updated store tests to verify `sidebarWidth` initial state, set action, and reset behavior\n\n### Files Modified\n- `src/store/index.ts` - Added sidebarWidth state and actions\n- `src/store/index.test.ts` - Added tests for new state\n- `src/components/layout/MainLayout.tsx` - Implemented resize functionality\n- `src/components/layout/MainLayout.test.tsx` - Added resize tests","created_at":"2026-01-18T22:38:09Z"}]}
{"id":"rui-lj0","title":"Set up Storybook for component documentation","description":"Add Storybook for interactive component documentation.\n\nScope: Every component and page layout should have stories.","status":"closed","priority":2,"issue_type":"feature","owner":"herb@devresults.com","created_at":"2026-01-18T20:47:57.837336+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T22:16:47.738939+01:00","closed_at":"2026-01-18T22:16:47.738939+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rui-lj0","depends_on_id":"rui-4rt","type":"blocks","created_at":"2026-01-18T20:48:25.772522+01:00","created_by":"Herb Caudill"}],"comments":[{"id":27,"issue_id":"rui-lj0","author":"Herb Caudill","text":"## Completed: Storybook Setup\n\n### Changes Made:\n- Installed Storybook 8.x with React/Vite integration\n- Created `.storybook/` configuration directory with:\n  - `main.ts` - Storybook config with React-Vite framework\n  - `preview.ts` - Preview config with dark/light backgrounds\n  - `decorators.tsx` - Store state decorators for Zustand integration\n\n### Stories Created (12 files total):\n- **UI**: Button (all variants, sizes, states)\n- **Layout**: StatusBar, Header, MainLayout\n- **Tasks**: TaskCard (all statuses, priorities), TaskList (grouping, sorting), QuickTaskInput\n- **Chat**: ChatInput (various contexts)\n- **Events**: TextBlock (markdown, roles), ToolUseCard (all tools, statuses), EventStream\n- **Controls**: ControlBar (all states)\n\n### Scripts Added:\n- `pnpm storybook` - Run Storybook dev server on port 6006\n- `pnpm build-storybook` - Build static Storybook\n\n### Notes:\n- Storybook 8.x has peer dependency warnings for Vite 7.x (uses Vite 6.x support), but builds and runs correctly\n- Added `storybook-static/` to .gitignore","created_at":"2026-01-18T21:16:42Z"}]}
{"id":"rui-lo2","title":"Server foundation","description":"Express server with WebSocket support, ralph process management, and REST API","status":"closed","priority":2,"issue_type":"epic","owner":"herb@devresults.com","created_at":"2026-01-18T20:14:18.658139+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T21:46:30.432431+01:00","closed_at":"2026-01-18T21:46:30.432431+01:00","close_reason":"Closed"}
{"id":"rui-lo2.1","title":"Set up Express server with WebSocket support","description":"Create server/index.ts with Express and ws library. Set up basic HTTP server and WebSocket upgrade handling.","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T20:14:33.563407+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T20:30:21.925436+01:00","closed_at":"2026-01-18T20:30:21.925436+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rui-lo2.1","depends_on_id":"rui-lo2","type":"parent-child","created_at":"2026-01-18T20:14:33.563994+01:00","created_by":"Herb Caudill"}],"comments":[{"id":2,"issue_id":"rui-lo2.1","author":"Herb Caudill","text":"## Summary\n\nSet up Express server with WebSocket support as the foundation for the ralph-ui backend.\n\n### Changes Made\n\n**New Files:**\n- `server/index.ts` - Main server file with:\n  - Express app with JSON parsing and health endpoint\n  - Placeholder API endpoints for ralph control (`/api/start`, `/api/stop`, `/api/message`)\n  - WebSocket server at `/ws` with:\n    - Heartbeat mechanism (30s ping/pong)\n    - Client connection tracking\n    - `broadcast()` function for sending to all clients\n    - Message handling with ping/pong support\n  - Port availability checking with fallback\n  - SPA static file serving from `dist/`\n- `server/index.test.ts` - Tests for health endpoint and WebSocket functionality\n- `tsconfig.server.json` - TypeScript config for Node.js server code\n\n**Modified Files:**\n- `package.json` - Added `express`, `ws`, `@types/express`, `@types/ws`, `tsx` deps; added `dev:server` script\n- `tsconfig.json` - Added reference to server tsconfig\n- `vitest.config.ts` - Added `environmentMatchGlobs` to run server tests in Node environment\n\n### Usage\n\nStart the server:\n```bash\npnpm dev:server\n```\n\nThe server runs at `http://localhost:3000` (or next available port) with WebSocket at `ws://localhost:3000/ws`.","created_at":"2026-01-18T19:30:18Z"}]}
{"id":"rui-lo2.2","title":"Create RalphManager class","description":"Spawn ralph CLI as child process, capture stdout JSON events, write to stdin for commands. Handle start/stop/message operations. DEPENDS ON: r-y41 (--json flag in ralph)","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T20:14:34.411166+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T20:35:21.523502+01:00","closed_at":"2026-01-18T20:35:21.523502+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rui-lo2.2","depends_on_id":"rui-lo2","type":"parent-child","created_at":"2026-01-18T20:14:34.41171+01:00","created_by":"Herb Caudill"},{"issue_id":"rui-lo2.2","depends_on_id":"rui-lo2.1","type":"blocks","created_at":"2026-01-18T20:15:41.614107+01:00","created_by":"Herb Caudill"}],"comments":[{"id":3,"issue_id":"rui-lo2.2","author":"Herb Caudill","text":"## Summary\n\nCreated `RalphManager` class in `server/RalphManager.ts` that manages the ralph CLI child process.\n\n### Features\n- Spawns ralph CLI with `--json` flag for structured JSON output\n- Parses newline-delimited JSON events from stdout\n- Handles multi-chunk/split stdout data with buffering\n- Provides `start(iterations?)`, `stop(timeout?)`, and `send(message)` methods\n- Emits events: `event` (JSON), `output` (non-JSON), `error`, `exit`, `status`\n- Graceful shutdown with SIGTERM, falling back to SIGKILL after timeout\n- Uses dependency injection for spawn function (testability)\n\n### Types exported\n- `RalphStatus`: \"stopped\" | \"starting\" | \"running\" | \"stopping\"\n- `RalphEvent`: JSON event structure from ralph\n- `SpawnFn`: Spawn function signature for DI\n- `RalphManagerOptions`: Configuration options\n\n### Tests\n20 comprehensive unit tests covering:\n- Initialization and status\n- Start/stop lifecycle\n- stdin message sending\n- stdout JSON parsing (including split chunks)\n- stderr error handling\n- Timeout force-kill behavior","created_at":"2026-01-18T19:35:17Z"}]}
{"id":"rui-lo2.3","title":"Implement WebSocket event broadcast","description":"Broadcast ralph events to all connected WebSocket clients. Handle client connect/disconnect.","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T20:14:35.595973+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T20:38:30.419382+01:00","closed_at":"2026-01-18T20:38:30.419382+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rui-lo2.3","depends_on_id":"rui-lo2","type":"parent-child","created_at":"2026-01-18T20:14:35.596531+01:00","created_by":"Herb Caudill"},{"issue_id":"rui-lo2.3","depends_on_id":"rui-lo2.2","type":"blocks","created_at":"2026-01-18T20:15:43.350215+01:00","created_by":"Herb Caudill"}],"comments":[{"id":4,"issue_id":"rui-lo2.3","author":"Herb Caudill","text":"## Summary\n\nImplemented WebSocket event broadcasting for RalphManager events.\n\n### Changes\n\n1. **server/index.ts**:\n   - Added `getRalphManager()` singleton function that creates a RalphManager and wires up event broadcasting\n   - All RalphManager events (event, status, output, error, exit) are now broadcast to connected WebSocket clients\n   - Messages are prefixed with `ralph:` (e.g., `ralph:event`, `ralph:status`)\n   - Added `getClientCount()` helper for monitoring connected clients\n   - Added `resetRalphManager()` for test cleanup\n\n2. **server/broadcast.test.ts** (new file):\n   - Comprehensive test coverage for broadcast functionality\n   - Tests for multi-client broadcast\n   - Tests for each event type (status, event, output, error, exit)\n   - Tests for client disconnect handling\n\n### WebSocket Message Types\n\nClients receive these message types:\n- `ralph:status` - Process status changes (stopped, starting, running, stopping)\n- `ralph:event` - JSON events from ralph stdout\n- `ralph:output` - Non-JSON stdout lines\n- `ralph:error` - Error messages\n- `ralph:exit` - Process exit with code and signal","created_at":"2026-01-18T19:38:26Z"}]}
{"id":"rui-lo2.4","title":"Create REST API endpoints","description":"POST /api/start, POST /api/stop, POST /api/message endpoints that interact with RalphManager.","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T20:14:36.591728+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T20:40:48.631687+01:00","closed_at":"2026-01-18T20:40:48.631687+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rui-lo2.4","depends_on_id":"rui-lo2","type":"parent-child","created_at":"2026-01-18T20:14:36.592287+01:00","created_by":"Herb Caudill"},{"issue_id":"rui-lo2.4","depends_on_id":"rui-lo2.2","type":"blocks","created_at":"2026-01-18T20:15:44.278969+01:00","created_by":"Herb Caudill"}],"comments":[{"id":5,"issue_id":"rui-lo2.4","author":"Herb Caudill","text":"## Implementation Summary\n\nImplemented the REST API endpoints that interact with RalphManager:\n\n### Endpoints\n\n- **POST /api/start** - Start the ralph process\n  - Optional `iterations` parameter in request body\n  - Returns 409 if already running\n  - Returns `{ ok: true, status: \"running\" }` on success\n\n- **POST /api/stop** - Stop the ralph process  \n  - Returns 409 if not running\n  - Returns `{ ok: true, status: \"stopped\" }` on success\n\n- **POST /api/message** - Send message to ralph stdin\n  - Requires `message` in request body (string or object)\n  - Returns 400 if message missing\n  - Returns 409 if ralph not running\n\n- **GET /api/status** - Get current ralph status\n  - Returns `{ ok: true, status: \"\u003cstatus\u003e\" }`\n\n### Testing\n\nAdded comprehensive test suite in `server/api.test.ts` with 11 tests covering:\n- Status endpoint in both stopped and running states\n- Start endpoint success, with iterations, and conflict handling\n- Stop endpoint success and conflict handling\n- Message endpoint with string/object messages, missing message, and not running state","created_at":"2026-01-18T19:40:44Z"}]}
{"id":"rui-m23","title":"Remove tasks heading","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T23:47:07.84949+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T23:53:25.202033+01:00","closed_at":"2026-01-18T23:53:25.202033+01:00","close_reason":"Closed","comments":[{"id":33,"issue_id":"rui-m23","author":"Herb Caudill","text":"Removed the Tasks header from TaskSidebar component:\\n\\n- Deleted header section with checkmark icon and \"Tasks\" heading\\n- Updated TaskSidebar.test.tsx to expect 0 border-b elements when no quickInput is provided\\n- Also removed duplicate Tasks headings from MainLayout.stories.tsx\\n\\nThe sidebar context is clear from the layout, making the explicit header redundant.","created_at":"2026-01-18T22:53:05Z"}]}
{"id":"rui-mjf","title":"Make a favicon with the ralph logo","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T19:42:07.168998+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T20:33:48.150453+01:00","closed_at":"2026-01-19T20:33:48.150453+01:00","close_reason":"Closed","comments":[{"id":78,"issue_id":"rui-mjf","author":"Herb Caudill","text":"Created an SVG favicon using the existing Ralph robot logo from the Header component.\n\n**Changes:**\n- Added `public/favicon.svg` - SVG version of the robot logo with neutral gray (#374151) stroke\n- Updated `index.html` to reference the favicon with proper SVG MIME type\n\nThe favicon matches the app's branding and works well in modern browsers.","created_at":"2026-01-19T19:33:44Z"}]}
{"id":"rui-moz","title":"for the send message button use an up arrow icon rather than the send icon","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T19:03:30.508849+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T19:40:33.73082+01:00","closed_at":"2026-01-19T19:40:33.73082+01:00","close_reason":"Closed","comments":[{"id":69,"issue_id":"rui-moz","author":"Herb Caudill","text":"Changed the send message button icon from a paper plane (send icon) to an up arrow icon in the ChatInput component. The SVG path was updated from the paper plane design to use a standard arrow-up pattern.","created_at":"2026-01-19T18:40:30Z"}]}
{"id":"rui-mrn","title":"show tokens send and received in the status bar (currently always shows ↓0↑0)","status":"open","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T20:19:38.079276+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T20:19:38.079276+01:00"}
{"id":"rui-n7m","title":"sometimes it says \"Ralph: stopped\" even though ervents are coming in","status":"tombstone","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T19:33:38.778283+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T20:24:04.907223+01:00","deleted_at":"2026-01-19T20:24:04.907223+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"rui-nrh","title":"Theme parser","description":"Parse and validate VS Code theme JSON, extract colors and tokenColors in src/lib/theme/parser.ts","status":"open","priority":3,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T19:18:59.907428+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T19:18:59.907428+01:00","dependencies":[{"issue_id":"rui-nrh","depends_on_id":"rui-bnb","type":"parent-child","created_at":"2026-01-19T19:19:36.311714+01:00","created_by":"Herb Caudill"},{"issue_id":"rui-nrh","depends_on_id":"rui-tzz","type":"blocks","created_at":"2026-01-19T19:19:46.660835+01:00","created_by":"Herb Caudill"}]}
{"id":"rui-obb","title":"Theme API endpoints","description":"Add GET /api/themes and GET /api/themes/:id endpoints to Express server","status":"open","priority":3,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T19:18:58.131159+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T19:18:58.131159+01:00","dependencies":[{"issue_id":"rui-obb","depends_on_id":"rui-bnb","type":"parent-child","created_at":"2026-01-19T19:19:36.309289+01:00","created_by":"Herb Caudill"},{"issue_id":"rui-obb","depends_on_id":"rui-w8p","type":"blocks","created_at":"2026-01-19T19:19:45.819284+01:00","created_by":"Herb Caudill"}]}
{"id":"rui-ozo","title":"Fix failing TaskSidebar test (does not render quickInput area)","status":"closed","priority":3,"issue_type":"bug","owner":"herb@devresults.com","created_at":"2026-01-18T23:35:51.275306+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T02:00:42.319251+01:00","closed_at":"2026-01-19T02:00:42.319251+01:00","close_reason":"Closed","comments":[{"id":41,"issue_id":"rui-ozo","author":"Herb Caudill","text":"The TaskSidebar test is now passing. All 12 tests in TaskSidebar.test.tsx pass successfully. The component correctly renders the quickInput area only when the prop is provided (line 37) and doesn't render any border-b elements when quickInput is not provided, as expected by the test on lines 30-35. No changes were needed - this issue was resolved in a previous update.","created_at":"2026-01-19T01:00:38Z"}]}
{"id":"rui-p0o","title":"the sidebar width should be persisted","status":"open","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T20:36:24.519291+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T20:36:24.519291+01:00"}
{"id":"rui-p5m","title":"use the square-rounded-plus-filled icon for the add button","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T19:26:48.778987+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T20:12:06.270233+01:00","closed_at":"2026-01-19T20:12:06.270233+01:00","close_reason":"Closed","comments":[{"id":73,"issue_id":"rui-p5m","author":"Herb Caudill","text":"Changed the QuickTaskInput add button from text ('Add'/'Adding...') to use the tabler `IconSquareRoundedPlusFilled` icon. Also adjusted button padding from `px-3 py-1.5` to `p-1.5` for a more compact icon-only button style.","created_at":"2026-01-19T19:12:02Z"}]}
{"id":"rui-pfv","title":"Group tasks by epic within each status","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T23:37:28.769679+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T01:54:31.661943+01:00","closed_at":"2026-01-19T01:54:31.661943+01:00","close_reason":"Closed","comments":[{"id":38,"issue_id":"rui-pfv","author":"Herb Caudill","text":"## Changes Made\n\nRefactored the `TaskList` component to change the grouping hierarchy:\n\n### Before\n- Tasks were grouped by epic first (epic headers at top level)\n- Ungrouped tasks (without epic) were grouped by status below\n\n### After\n- Primary grouping is by status (Ready, In Progress, Blocked, Closed)\n- Within each status group, tasks are sub-grouped by their parent epic\n- Tasks without an epic appear at the end of each status group as a flat list\n- Epic sub-groups are collapsible independently of status groups\n\n### Technical Details\n- Introduced `StatusGroupData` and `EpicSubGroup` interfaces to model the new structure\n- Refactored the `useMemo` hook to group tasks by status first, then by epic within each status\n- Updated tests to reflect the new grouping behavior\n- Added a new test for epic priority sorting within status groups\n\n### Files Changed\n- `src/components/tasks/TaskList.tsx` - Main component refactor\n- `src/components/tasks/TaskList.test.tsx` - Updated tests","created_at":"2026-01-19T00:54:27Z"}]}
{"id":"rui-r53","title":"Restyle task input as borderless shadcn input group with add button","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T23:47:49.715668+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T01:57:09.747895+01:00","closed_at":"2026-01-19T01:57:09.747895+01:00","close_reason":"Closed","comments":[{"id":39,"issue_id":"rui-r53","author":"Herb Caudill","text":"## Summary of Changes\n\nRestyled the QuickTaskInput component to use a borderless shadcn input group style:\n\n- **Input**: Now borderless with transparent background, no focus ring, and a minimal appearance\n- **Add button**: Changed from a primary-colored button to a subtle muted icon that transitions to foreground color on hover\n- **Layout**: Input and button are grouped together in a flex container for visual unity\n\nThe component maintains all existing functionality (keyboard submit, loading state, disabled state) while providing a cleaner, more minimal appearance that integrates better with the sidebar.","created_at":"2026-01-19T00:57:05Z"}]}
{"id":"rui-rk9","title":"put assistant text in font-serif","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T01:13:40.303767+01:00","updated_at":"2026-01-19T01:59:35.180498+01:00","closed_at":"2026-01-19T01:59:35.180498+01:00","close_reason":"Closed","comments":[{"id":40,"issue_id":"rui-rk9","author":"Herb Caudill","text":"Added `font-serif` class to the AssistantText component so Claude's responses are rendered in IBM Plex Serif. This provides better readability and visual distinction between assistant text and the rest of the UI.","created_at":"2026-01-19T00:59:30Z"}]}
{"id":"rui-t50","title":"Show hotkeys for any buttons on hover","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T18:58:06.946797+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T19:15:53.569804+01:00","closed_at":"2026-01-19T19:15:53.569804+01:00","close_reason":"Closed","comments":[{"id":63,"issue_id":"rui-t50","author":"Herb Caudill","text":"## Summary\n\nAdded tooltip support with hotkey display for all control bar buttons (Start, Pause, Stop, Stop after current).\n\n### Changes\n\n- **New Tooltip Component** (`src/components/ui/tooltip.tsx`):\n  - Created `TooltipProvider`, `Tooltip`, `TooltipTrigger`, `TooltipContent` components using @radix-ui/react-tooltip\n  - Added `Kbd` component for styled keyboard shortcut display\n  - Added `TooltipButton` convenience wrapper that combines tooltip + optional hotkey display\n\n- **ControlBar Updates** (`src/components/controls/ControlBar.tsx`):\n  - Wrapped all control buttons with `TooltipButton`\n  - Added hotkey display using `getHotkeyDisplay()` from `useHotkeys` hook\n  - Tooltips now show button name + keyboard shortcut on hover (e.g., \"Start ⌘⏎\")\n\n- **Test Infrastructure** (`src/test-utils.tsx`):\n  - Created custom render function that wraps components with `TooltipProvider`\n  - Updated all affected test files to use custom render\n\n- **Dependencies**:\n  - Added `@radix-ui/react-tooltip` package\n\n### Hotkeys Displayed\n\n| Button | Tooltip | Hotkey |\n|--------|---------|--------|\n| Start | Start | ⌘⏎ |\n| Pause | Pause / Resume | ⌘/ |\n| Stop | Stop | ⌘. |\n| Stop after current | Stop after current | ⇧⌘. |\n\nAll tests pass (494 unit tests + 2 E2E tests).","created_at":"2026-01-19T18:15:50Z"}]}
{"id":"rui-tux","title":"in the task input area, the input should be a text area so I can input more than one line. The \"add\" button should be below the text area and should say \"Add\"","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T18:47:15.553753+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T19:24:52.374633+01:00","closed_at":"2026-01-19T19:24:52.374633+01:00","close_reason":"Closed","comments":[{"id":65,"issue_id":"rui-tux","author":"Herb Caudill","text":"## Changes Made\n\n- Converted single-line `\u003cinput\u003e` to 3-row `\u003ctextarea\u003e` for multiline task entry\n- Moved the submit button below the textarea and changed it from a Plus icon to \"Add\" text\n- Changed submission shortcut from Enter to Cmd/Ctrl+Enter (plain Enter now adds newlines)\n- Shows \"Adding...\" with spinner while submitting\n\n## Files Modified\n- `src/components/tasks/QuickTaskInput.tsx` - Main component changes\n- `src/components/tasks/QuickTaskInput.test.tsx` - Updated tests for new keyboard shortcuts\n\n## Testing\n- All 31 QuickTaskInput tests pass\n- Full test suite passes (504 tests)\n- Build successful","created_at":"2026-01-19T18:24:48Z"}]}
{"id":"rui-tzz","title":"Theme types","description":"Create VSCodeTheme, AppTheme, ThemeMeta, and StatusColors types in src/lib/theme/types.ts","status":"open","priority":3,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T19:18:59.049903+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T19:18:59.049903+01:00","dependencies":[{"issue_id":"rui-tzz","depends_on_id":"rui-bnb","type":"parent-child","created_at":"2026-01-19T19:19:36.310497+01:00","created_by":"Herb Caudill"}]}
{"id":"rui-w8p","title":"ThemeDiscovery class - scan VS Code extensions","description":"Server-side class to scan ~/.vscode/extensions for theme extensions and read VS Code settings.json for current theme","status":"open","priority":3,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T19:18:56.961806+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T19:18:56.961806+01:00","dependencies":[{"issue_id":"rui-w8p","depends_on_id":"rui-bnb","type":"parent-child","created_at":"2026-01-19T19:19:36.30764+01:00","created_by":"Herb Caudill"}]}
{"id":"rui-w9f","title":"Add light/dark mode support","description":"Theme behavior:\n- Default to system preference (OS light/dark setting)\n- Allow manual override toggle in UI\n\nColor palette: Match VS Code's dark/light theme colors for consistency.","status":"closed","priority":2,"issue_type":"feature","owner":"herb@devresults.com","created_at":"2026-01-18T20:47:56.409129+01:00","created_by":"Herb Caudill","updated_at":"2026-01-18T22:04:27.279953+01:00","closed_at":"2026-01-18T22:04:27.279953+01:00","close_reason":"Closed","dependencies":[{"issue_id":"rui-w9f","depends_on_id":"rui-4rt","type":"blocks","created_at":"2026-01-18T20:48:24.280478+01:00","created_by":"Herb Caudill"}],"comments":[{"id":25,"issue_id":"rui-w9f","author":"Herb Caudill","text":"## Implementation Complete\n\nAdded light/dark mode support with system preference detection:\n\n### Changes:\n- **Store** (`src/store/index.ts`): Added `Theme` type (`system` | `light` | `dark`) and `setTheme` action\n- **useTheme hook** (`src/hooks/useTheme.ts`): \n  - Defaults to system preference (OS light/dark setting)\n  - Allows manual override toggle\n  - Persists preference to localStorage (`ralph-ui-theme`)\n  - Listens for system preference changes when in 'system' mode\n  - Applies theme by adding/removing `dark` class on document root\n- **Header** (`src/components/layout/Header.tsx`): Added theme toggle button\n  - Cycles: system (Monitor icon) → light (Sun icon) → dark (Moon icon) → system\n- **App** (`src/App.tsx`): Initialize theme on app load\n\n### Tests:\n- Added comprehensive tests for useTheme hook (18 tests)\n- Added theme toggle tests in Header (5 tests)\n- Updated MainLayout and App tests with matchMedia mocks","created_at":"2026-01-18T21:04:23Z"}]}
{"id":"rui-wbc","title":"Get rid of the status bar that's currently above the event log. There's another status bar at the bottom of the screen, which I like. tuck that one into the right-hand panel, still at the bottom but not spanning across to the task panel on the left. and add the task currently being worked on to that status bar.","status":"open","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T20:12:25.573369+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T20:12:25.573369+01:00"}
{"id":"rui-xjf","title":"show the task count in the dropdown as well as the workspace label, but make it the count of open + in progress tasks","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T18:33:23.744368+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T19:00:52.21036+01:00","closed_at":"2026-01-19T19:00:52.21036+01:00","close_reason":"Closed","comments":[{"id":59,"issue_id":"rui-xjf","author":"Herb Caudill","text":"## Changes Made\n\n- Added `activeIssueCount` field to the workspace list API response (`/api/workspaces`)\n- Modified `/api/workspace` and `/api/workspace/switch` endpoints to return active issue count (open + in_progress) instead of total issue count\n- Updated `WorkspaceListEntry` type to include `activeIssueCount` property\n- Added issue count badge display in the workspace dropdown for each workspace\n- Added test to verify active issue count badges render correctly in the dropdown\n\nThe count is fetched by querying for open and in_progress issues separately and summing their lengths. If the count cannot be fetched, it's left undefined and no badge is displayed.","created_at":"2026-01-19T18:00:48Z"}]}
{"id":"rui-z4z","title":"Put the control buttons in the status bar","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T18:57:33.685962+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T20:09:48.12782+01:00","closed_at":"2026-01-19T20:09:48.12782+01:00","close_reason":"Closed","comments":[{"id":71,"issue_id":"rui-z4z","author":"Herb Caudill","text":"Moved ControlBar from Header to StatusBar component. Removed header-specific variant styling from ControlBar. Updated tests accordingly.","created_at":"2026-01-19T19:09:44Z"}]}
{"id":"rui-z6m","title":"persist the text in the task input to local storage as I type, so that it survives a reload","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T18:54:24.42167+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T18:57:51.89293+01:00","closed_at":"2026-01-19T18:57:51.89293+01:00","close_reason":"Closed","comments":[{"id":58,"issue_id":"rui-z6m","author":"Herb Caudill","text":"## Changes Made\n\n- Added localStorage persistence to QuickTaskInput component\n- Input text is saved to localStorage under key `ralph-ui-task-input-draft` as user types\n- On component mount, any existing draft is restored from localStorage\n- Draft is automatically cleared after successful task submission\n- Draft is retained if submission fails (so user doesn't lose work)\n- Added comprehensive tests for all persistence scenarios\n\nThis ensures users don't lose their task drafts if they accidentally refresh the page or close the browser.","created_at":"2026-01-19T17:57:48Z"}]}
{"id":"rui-z8b","title":"Hide collapse/expand UI for epics with no subtasks","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-18T23:36:53.721224+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T01:51:04.920318+01:00","closed_at":"2026-01-19T01:51:04.920318+01:00","close_reason":"Closed","comments":[{"id":37,"issue_id":"rui-z8b","author":"Herb Caudill","text":"## Changes Made\n\n- Modified `EpicGroupHeader` component in `TaskList.tsx` to conditionally show the collapse/expand UI:\n  - Chevron icon only appears when epic has subtasks (`taskCount \u003e 0`)\n  - Task count badge only appears when epic has subtasks\n  - Header becomes non-interactive when no subtasks (no `button` role, no `tabIndex`, no hover styling)\n  - aria-label simplified to just \"${epicTitle} epic\" when no subtasks\n  \n- Updated epic rendering in `TaskList` to not show the expandable content area for empty epics\n  - Removed the \"No tasks in this epic\" message display\n  \n- Added 6 new tests in `TaskList.test.tsx` covering:\n  - Epic header renders with chevron when has subtasks\n  - Epic header renders without chevron when no subtasks\n  - Task count badge visibility based on subtask presence\n  - Toggle behavior for epics with subtasks\n  - No toggle for epics without subtasks\n  - No \"No tasks in this epic\" message for empty epics\n  \n- Added new Storybook story `EpicsWithNoSubtasks` demonstrating the behavior","created_at":"2026-01-19T00:51:00Z"}]}
{"id":"rui-zeg","title":"Get rid of the \"connected\" indicator in the header since we already have one in the footer","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T18:51:42.660772+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T18:54:03.522459+01:00","closed_at":"2026-01-19T18:54:03.522459+01:00","close_reason":"Closed","comments":[{"id":56,"issue_id":"rui-zeg","author":"Herb Caudill","text":"Removed the `ConnectionIndicator` component from the Header. The status bar already shows Ralph's running status (stopped/starting/running/paused), making the connection indicator in the header redundant.\n\nChanges:\n- Removed `ConnectionIndicator` component from `Header.tsx`\n- Removed `selectConnectionStatus` import (no longer used in Header)\n- Updated JSDoc comment for Header to remove mention of connection status\n- Removed 3 connection status tests from `Header.test.tsx`\n- Updated `Header.stories.tsx` to remove connection status variations and organize stories by workspace/accent color variations","created_at":"2026-01-19T17:54:00Z"}]}
{"id":"rui-zeu","title":"don't show the priority or task number in the sidebar, just the task","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T18:25:32.510892+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T18:40:01.617854+01:00","closed_at":"2026-01-19T18:40:01.617854+01:00","close_reason":"Closed","comments":[{"id":49,"issue_id":"rui-zeu","author":"Herb Caudill","text":"Removed task ID and priority badge from the sidebar task display. The TaskCard component now shows only the status icon and task title in the collapsed view, making the sidebar cleaner and more focused on task content. Updated tests to reflect the new simpler display.","created_at":"2026-01-19T17:39:57Z"}]}
{"id":"rui-zex","title":"get rid of the internal padding in the sidebar","status":"closed","priority":2,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T18:24:28.158134+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T18:33:58.242394+01:00","closed_at":"2026-01-19T18:33:58.242394+01:00","close_reason":"Closed","comments":[{"id":47,"issue_id":"rui-zex","author":"Herb Caudill","text":"Removed the `p-4` padding class from the sidebar container in `MainLayout.tsx`. The sidebar content (such as TaskSidebar) now controls its own padding.","created_at":"2026-01-19T17:33:54Z"}]}
{"id":"rui-zoa","title":"Update components to use status colors","description":"Replace hardcoded colors in TaskCard, ToolUseCard, StatusBar, AssistantText, WorkspacePicker with status CSS variables","status":"open","priority":3,"issue_type":"task","owner":"herb@devresults.com","created_at":"2026-01-19T19:19:14.90312+01:00","created_by":"Herb Caudill","updated_at":"2026-01-19T19:19:14.90312+01:00","dependencies":[{"issue_id":"rui-zoa","depends_on_id":"rui-bnb","type":"parent-child","created_at":"2026-01-19T19:19:36.318724+01:00","created_by":"Herb Caudill"},{"issue_id":"rui-zoa","depends_on_id":"rui-el8","type":"blocks","created_at":"2026-01-19T19:19:58.217888+01:00","created_by":"Herb Caudill"},{"issue_id":"rui-zoa","depends_on_id":"rui-i3g","type":"blocks","created_at":"2026-01-19T19:19:58.35488+01:00","created_by":"Herb Caudill"}]}
